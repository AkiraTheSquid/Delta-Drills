[
  {
    "id": 1,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Row-wise argmax of a 5x5 random int matrix (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.random.randint(0,10,(5,5)); print(Z.argmax(axis=1))",
    "difficulty_score": 24,
    "difficulty_label": "easy",
    "expected_output": "[2 1 0 0 2]"
  },
  {
    "id": 2,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Create a 8x8 matrix and fill it with a checkerboard pattern (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.zeros((8,8),dtype=int)\nZ[1::2,::2] = 1\nZ[::2,1::2] = 1\nprint(Z)",
    "difficulty_score": 24,
    "difficulty_label": "easy",
    "expected_output": "[[0 1 0 1 0 1 0 1]\n [1 0 1 0 1 0 1 0]\n [0 1 0 1 0 1 0 1]\n [1 0 1 0 1 0 1 0]\n [0 1 0 1 0 1 0 1]\n [1 0 1 0 1 0 1 0]\n [0 1 0 1 0 1 0 1]\n [1 0 1 0 1 0 1 0]]"
  },
  {
    "id": 3,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Create a custom dtype that describes a color as four unsigned bytes (RGBA) (★☆☆)\nPrint the result.",
    "answer_code": "color = np.dtype([('r', np.ubyte), ('g', np.ubyte), ('b', np.ubyte), ('a', np.ubyte)])\nprint(color)",
    "difficulty_score": 24,
    "difficulty_label": "easy",
    "expected_output": "[('r', 'u1'), ('g', 'u1'), ('b', 'u1'), ('a', 'u1')]"
  },
  {
    "id": 4,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Create a 5x5 matrix with values 1,2,3,4 just below the diagonal (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.diag(1+np.arange(4),k=-1)\nprint(Z)",
    "difficulty_score": 24,
    "difficulty_label": "easy",
    "expected_output": "[[0 0 0 0 0]\n [1 0 0 0 0]\n [0 2 0 0 0]\n [0 0 3 0 0]\n [0 0 0 4 0]]"
  },
  {
    "id": 5,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Compute the Frobenius norm of a 3x3 matrix (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.random.random((3,3)); print(np.linalg.norm(Z))",
    "difficulty_score": 22,
    "difficulty_label": "easy",
    "expected_output": "1.5646026648910527"
  },
  {
    "id": 6,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Normalize a random vector to L2 norm 1 (★☆☆)\nPrint the result.",
    "answer_code": "v = np.random.random(5); v /= np.linalg.norm(v); print(v)",
    "difficulty_score": 22,
    "difficulty_label": "easy",
    "expected_output": "[0.38158715 0.16702306 0.22728842 0.51478185 0.71402673]"
  },
  {
    "id": 7,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Subtract each row's mean from a 5x5 random matrix (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.random.random((5,5)); Z -= Z.mean(axis=1, keepdims=True); print(Z)",
    "difficulty_score": 22,
    "difficulty_label": "easy",
    "expected_output": "[[-0.18075516 -0.33656325  0.43336769  0.03705023  0.04690049]\n [-0.07416761  0.05931944 -0.25957298  0.08563998  0.18878116]\n [-0.18972818 -0.09626449  0.1565576  -0.07345407  0.20288914]\n [-0.11746031  0.12000872  0.33778269 -0.15196078 -0.18837032]\n [-0.16436352 -0.38635364  0.36401961 -0.19494465  0.3816422 ]]"
  },
  {
    "id": 8,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create reproducible random numbers using a seed (★☆☆)\nPrint the result.",
    "answer_code": "rng = np.random.default_rng(42); print(rng.random(3))",
    "difficulty_score": 22,
    "difficulty_label": "easy",
    "expected_output": "[0.77395605 0.43887844 0.85859792]"
  },
  {
    "id": 9,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "What is the result of the following expression? (★☆☆)\n0 * np.nan\nnp.nan == np.nan\nnp.inf > np.nan\nnp.nan - np.nan\nnp.nan in set([np.nan])\n0.3 == 3 * 0.1\nPrint the result.",
    "answer_code": "print(0 * np.nan)\nprint(np.nan == np.nan)\nprint(np.inf > np.nan)\nprint(np.nan - np.nan)\nprint(np.nan in set([np.nan]))\nprint(0.3 == 3 * 0.1)",
    "difficulty_score": 22,
    "difficulty_label": "easy",
    "expected_output": "nan\nFalse\nFalse\nnan\nTrue\nFalse"
  },
  {
    "id": 10,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Normalize a 5x5 random matrix (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.random.random((5,5))\nZ = (Z - np.mean (Z)) / (np.std (Z))\nprint(Z)",
    "difficulty_score": 22,
    "difficulty_label": "easy",
    "expected_output": "[[ 0.52893663  1.06857029 -0.86650139 -0.57639068 -0.2588925 ]\n [-1.83496024 -1.06518312  0.45755049 -0.22892142  0.34772359]\n [-1.87448732  0.80076562  0.44797266  0.85034123  0.33909274]\n [-1.24016654 -0.72517537  1.51074523  1.72892268  0.61821021]\n [-0.11949262  1.40552524  0.29897438 -0.01526342 -1.59789637]]"
  },
  {
    "id": 11,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Create a 4x4 matrix of row indices (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.indices((4,4))[0]; print(Z)",
    "difficulty_score": 22,
    "difficulty_label": "easy",
    "expected_output": "[[0 0 0 0]\n [1 1 1 1]\n [2 2 2 2]\n [3 3 3 3]]"
  },
  {
    "id": 12,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Given a 1D array, negate all elements which are between 3 and 8, in place. (★☆☆)\nPrint the result.",
    "answer_code": "# Author: Evgeni Burovski\n\nZ = np.arange(11)\nZ[(3 < Z) & (Z < 8)] *= -1\nprint(Z)",
    "difficulty_score": 26,
    "difficulty_label": "easy",
    "expected_output": "[ 0  1  2  3 -4 -5 -6 -7  8  9 10]"
  },
  {
    "id": 13,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Consider a (6,7,8) shape array, what is the index (x,y,z) of the 100th element? (★☆☆)\nPrint the result.",
    "answer_code": "print(np.unravel_index(99,(6,7,8)))",
    "difficulty_score": 26,
    "difficulty_label": "easy",
    "expected_output": "(np.int64(1), np.int64(5), np.int64(3))"
  },
  {
    "id": 14,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Find unique values and counts in an array (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.array([1,2,2,3,3,3]); vals, cnts = np.unique(Z, return_counts=True); print(vals, cnts)",
    "difficulty_score": 20,
    "difficulty_label": "easy",
    "expected_output": "[1 2 3] [1 2 3]"
  },
  {
    "id": 15,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Center a 3x3 matrix by subtracting its mean (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.random.random((3,3)); Z = Z - Z.mean(); print(Z)",
    "difficulty_score": 20,
    "difficulty_label": "easy",
    "expected_output": "[[ 0.21936346  0.13127684 -0.48393371]\n [ 0.19049139  0.08942673  0.17334346]\n [ 0.16389669  0.09502324 -0.5788881 ]]"
  },
  {
    "id": 16,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create a 5x5 strict lower triangular matrix of ones (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.tril(np.ones((5,5)), k=-1); print(Z)",
    "difficulty_score": 20,
    "difficulty_label": "easy",
    "expected_output": "[[0. 0. 0. 0. 0.]\n [1. 0. 0. 0. 0.]\n [1. 1. 0. 0. 0.]\n [1. 1. 1. 0. 0.]\n [1. 1. 1. 1. 0.]]"
  },
  {
    "id": 17,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "How to add a border (filled with 0's) around an existing array? (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.ones((5,5))\nZ = np.pad(Z, pad_width=1, mode='constant', constant_values=0)\nprint(Z)\n\n# Using fancy indexing\nZ[:, [0, -1]] = 0\nZ[[0, -1], :] = 0\nprint(Z)",
    "difficulty_score": 20,
    "difficulty_label": "easy",
    "expected_output": "[[0. 0. 0. 0. 0. 0. 0.]\n [0. 1. 1. 1. 1. 1. 0.]\n [0. 1. 1. 1. 1. 1. 0.]\n [0. 1. 1. 1. 1. 1. 0.]\n [0. 1. 1. 1. 1. 1. 0.]\n [0. 1. 1. 1. 1. 1. 0.]\n [0. 0. 0. 0. 0. 0. 0.]]\n[[0. 0. 0. 0. 0. 0. 0.]\n [0. 1. 1. 1. 1. 1. 0.]\n [0. 1. 1. 1. 1. 1. 0.]\n [0. 1. 1. 1. 1. 1. 0.]\n [0. 1. 1. 1. 1. 1. 0.]\n [0. 1. 1. 1. 1. 1. 0.]\n [0. 0. 0. 0. 0. 0. 0.]]"
  },
  {
    "id": 18,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Replace NaNs with zero (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.array([0.0, np.nan, 1.0]); Z = np.nan_to_num(Z, nan=0.0); print(Z)",
    "difficulty_score": 20,
    "difficulty_label": "easy",
    "expected_output": "[0. 0. 1.]"
  },
  {
    "id": 19,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Get real and imaginary parts of complex array (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.array([1+2j, 3+4j]); print(np.real(Z), np.imag(Z))",
    "difficulty_score": 20,
    "difficulty_label": "easy",
    "expected_output": "[1. 3.] [2. 4.]"
  },
  {
    "id": 20,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "What is the output of the following script? (★☆☆)\n# Author: Jake VanderPlas\n\nprint(sum(range(5),-1))\nfrom numpy import *\nprint(sum(range(5),-1))",
    "answer_code": "# Author: Jake VanderPlas\n\nprint(sum(range(5),-1))\nfrom numpy import *\nprint(sum(range(5),-1))",
    "difficulty_score": 28,
    "difficulty_label": "easy",
    "expected_output": "9\n10"
  },
  {
    "id": 21,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Consider an integer vector Z, which of these expressions are legal? (★☆☆)\nZ**Z\n2 << Z >> 2\nZ <- Z\n1j*Z\nZ/1/1\nZ<Z>Z\nPrint the result.",
    "answer_code": "Z**Z\n2 << Z >> 2\nZ <- Z\n1j*Z\nZ/1/1\nZ<Z>Z",
    "difficulty_score": 28,
    "difficulty_label": "easy",
    "expected_output": "[ERROR] Traceback (most recent call last):\n  File \"<string>\", line 2, in <module>\nNameError: name 'Z' is not defined"
  },
  {
    "id": 22,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Compute differences along rows of a 3x3 matrix (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.arange(9).reshape(3,3); print(np.diff(Z, axis=1))",
    "difficulty_score": 18,
    "difficulty_label": "easy",
    "expected_output": "[[1 1]\n [1 1]\n [1 1]]"
  },
  {
    "id": 23,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Flatten a 3x4 matrix in column-major order (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.arange(12).reshape(3,4); print(Z.flatten('F'))",
    "difficulty_score": 18,
    "difficulty_label": "easy",
    "expected_output": "[ 0  4  8  1  5  9  2  6 10  3  7 11]"
  },
  {
    "id": 24,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Replace the maximum of a random vector with 0 (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.random.random(10); Z[Z.argmax()] = 0; print(Z)",
    "difficulty_score": 18,
    "difficulty_label": "easy",
    "expected_output": "[0.47574857 0.94318884 0.17651576 0.81866012 0.17983904 0.55808314\n 0.46369884 0.54385119 0.         0.1807641 ]"
  },
  {
    "id": 25,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Swap the first and last rows of a 3x3 matrix (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.arange(9).reshape(3,3); Z[[0,2]] = Z[[2,0]]; print(Z)",
    "difficulty_score": 18,
    "difficulty_label": "easy",
    "expected_output": "[[6 7 8]\n [3 4 5]\n [0 1 2]]"
  },
  {
    "id": 26,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create a 10x10 array with random values and find the minimum and maximum values (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.random.random((10,10))\nZmin, Zmax = Z.min(), Z.max()\nprint(Zmin, Zmax)",
    "difficulty_score": 18,
    "difficulty_label": "easy",
    "expected_output": "0.0023942929669520385 0.9883593991580394"
  },
  {
    "id": 27,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Create a 2d array with 1 on the border and 0 inside (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.ones((10,10))\nZ[1:-1,1:-1] = 0\nprint(Z)",
    "difficulty_score": 18,
    "difficulty_label": "easy",
    "expected_output": "[[1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]\n [1. 0. 0. 0. 0. 0. 0. 0. 0. 1.]\n [1. 0. 0. 0. 0. 0. 0. 0. 0. 1.]\n [1. 0. 0. 0. 0. 0. 0. 0. 0. 1.]\n [1. 0. 0. 0. 0. 0. 0. 0. 0. 1.]\n [1. 0. 0. 0. 0. 0. 0. 0. 0. 1.]\n [1. 0. 0. 0. 0. 0. 0. 0. 0. 1.]\n [1. 0. 0. 0. 0. 0. 0. 0. 0. 1.]\n [1. 0. 0. 0. 0. 0. 0. 0. 0. 1.]\n [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]]"
  },
  {
    "id": 28,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create a random vector of size 30 and find the mean value (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.random.random(30)\nm = Z.mean()\nprint(m)",
    "difficulty_score": 18,
    "difficulty_label": "easy",
    "expected_output": "0.53640139985914"
  },
  {
    "id": 29,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create meshgrid for x=[0,1,2], y=[0,1] (★☆☆)\nPrint the result.",
    "answer_code": "x, y = np.meshgrid(np.arange(3), np.arange(2)); print(x); print(y)",
    "difficulty_score": 18,
    "difficulty_label": "easy",
    "expected_output": "[[0 1 2]\n [0 1 2]]\n[[0 0 0]\n [1 1 1]]"
  },
  {
    "id": 30,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Swap the first and last columns of a 3x3 matrix (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.arange(9).reshape(3,3); Z[:,[0,2]] = Z[:,[2,0]]; print(Z)",
    "difficulty_score": 18,
    "difficulty_label": "easy",
    "expected_output": "[[2 1 0]\n [5 4 3]\n [8 7 6]]"
  },
  {
    "id": 31,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create a 5x5 upper triangular matrix of ones (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.triu(np.ones((5,5))); print(Z)",
    "difficulty_score": 18,
    "difficulty_label": "easy",
    "expected_output": "[[1. 1. 1. 1. 1.]\n [0. 1. 1. 1. 1.]\n [0. 0. 1. 1. 1.]\n [0. 0. 0. 1. 1.]\n [0. 0. 0. 0. 1.]]"
  },
  {
    "id": 32,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Check if any element is NaN (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.array([0.0, np.nan, 1.0]); print(np.isnan(Z).any())",
    "difficulty_score": 18,
    "difficulty_label": "easy",
    "expected_output": "True"
  },
  {
    "id": 33,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "What are the result of the following expressions? (★☆☆)\nnp.array(0) / np.array(0)\nnp.array(0) // np.array(0)\nnp.array([np.nan]).astype(int).astype(float)\nPrint the result.",
    "answer_code": "print(np.array(0) / np.array(0))\nprint(np.array(0) // np.array(0))\nprint(np.array([np.nan]).astype(int).astype(float))",
    "difficulty_score": 30,
    "difficulty_label": "easy",
    "expected_output": "nan\n0\n[-9.22337204e+18]"
  },
  {
    "id": 34,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Tile [1,2,3] three times (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.array([1,2,3]); print(np.tile(Z, 3))",
    "difficulty_score": 16,
    "difficulty_label": "easy",
    "expected_output": "[1 2 3 1 2 3 1 2 3]"
  },
  {
    "id": 35,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Repeat each element of [1,2,3] three times (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.array([1,2,3]); print(np.repeat(Z, 3))",
    "difficulty_score": 16,
    "difficulty_label": "easy",
    "expected_output": "[1 1 1 2 2 2 3 3 3]"
  },
  {
    "id": 36,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Reshape a vector of size 12 to shape (2,2,3) (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.arange(12).reshape(2,2,3); print(Z.shape)",
    "difficulty_score": 16,
    "difficulty_label": "easy",
    "expected_output": "(2, 2, 3)"
  },
  {
    "id": 37,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Compute dot product of two length-3 random vectors (★☆☆)\nPrint the result.",
    "answer_code": "a = np.random.random(3); b = np.random.random(3); print(np.dot(a,b))",
    "difficulty_score": 16,
    "difficulty_label": "easy",
    "expected_output": "0.619317506745586"
  },
  {
    "id": 38,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Index of the minimum in a random vector (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.random.random(10); print(Z.argmin())",
    "difficulty_score": 16,
    "difficulty_label": "easy",
    "expected_output": "8"
  },
  {
    "id": 39,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "How to get the documentation of the numpy add function from the command line? (★☆☆)\nPrint the result.",
    "answer_code": "%run `python -c \"import numpy; numpy.info(numpy.add)\"`",
    "difficulty_score": 16,
    "difficulty_label": "easy",
    "expected_output": "[ERROR] File \"<string>\", line 2\n    %run `python -c \"import numpy; numpy.info(numpy.add)\"`\n    ^\nSyntaxError: invalid syntax"
  },
  {
    "id": 40,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Find indices of non-zero elements from [1,2,0,0,4,0] (★☆☆)\nPrint the result.",
    "answer_code": "nz = np.nonzero([1,2,0,0,4,0])\nprint(nz)",
    "difficulty_score": 16,
    "difficulty_label": "easy",
    "expected_output": "(array([0, 1, 4]),)"
  },
  {
    "id": 41,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create zeros_like an existing (2,3,4) array (★☆☆)\nPrint the result.",
    "answer_code": "a = np.empty((2,3,4)); Z = np.zeros_like(a); print(Z.shape)",
    "difficulty_score": 16,
    "difficulty_label": "easy",
    "expected_output": "(2, 3, 4)"
  },
  {
    "id": 42,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create a 3x3x3 array with random values (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.random.random((3,3,3))\nprint(Z)",
    "difficulty_score": 16,
    "difficulty_label": "easy",
    "expected_output": "[[[0.38405161 0.39712299 0.88449136]\n  [0.12672671 0.93825344 0.38776081]\n  [0.62859974 0.26609589 0.58898664]]\n\n [[0.92227792 0.15219338 0.7566384 ]\n  [0.60577162 0.1097569  0.01551242]\n  [0.46076452 0.38069121 0.08818755]]\n\n [[0.44448478 0.04066118 0.79337226]\n  [0.09948202 0.17218629 0.04788884]\n  [0.00430341 0.05953571 0.27682031]]]"
  },
  {
    "id": 43,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Element-wise maximum of two arrays (★☆☆)\nPrint the result.",
    "answer_code": "a = np.array([1,5,3]); b = np.array([2,4,3]); print(np.maximum(a,b))",
    "difficulty_score": 16,
    "difficulty_label": "easy",
    "expected_output": "[2 5 3]"
  },
  {
    "id": 44,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Is the following expressions true? (★☆☆)\nnp.sqrt(-1) == np.emath.sqrt(-1)\nPrint the result.",
    "answer_code": "np.sqrt(-1) == np.emath.sqrt(-1)",
    "difficulty_score": 32,
    "difficulty_label": "easy",
    "expected_output": ""
  },
  {
    "id": 45,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "How to ignore all numpy warnings (not recommended)? (★☆☆)\nPrint the result.",
    "answer_code": "# Suicide mode on\ndefaults = np.seterr(all=\"ignore\")\nZ = np.ones(1) / 0\n\n# Back to sanity\n_ = np.seterr(**defaults)\n\n# Equivalently with a context manager\nwith np.errstate(all=\"ignore\"):\n    np.arange(3) / 0",
    "difficulty_score": 32,
    "difficulty_label": "easy",
    "expected_output": ""
  },
  {
    "id": 46,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create a 3x3 matrix with values ranging from 0 to 8 (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.arange(9).reshape(3, 3)\nprint(Z)",
    "difficulty_score": 14,
    "difficulty_label": "easy",
    "expected_output": "[[0 1 2]\n [3 4 5]\n [6 7 8]]"
  },
  {
    "id": 47,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create a 3x3 matrix with diagonal values 1,2,3 (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.diag(1 + np.arange(3)); print(Z)",
    "difficulty_score": 14,
    "difficulty_label": "easy",
    "expected_output": "[[1 0 0]\n [0 2 0]\n [0 0 3]]"
  },
  {
    "id": 48,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Set odd indices of a vector 0..9 to -1 (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.arange(10); Z[1::2] = -1; print(Z)",
    "difficulty_score": 14,
    "difficulty_label": "easy",
    "expected_output": "[ 0 -1  2 -1  4 -1  6 -1  8 -1]"
  },
  {
    "id": 49,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Remove fractional parts from a float array (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.array([1.2, 3.7, -0.3]); print(np.floor(Z))",
    "difficulty_score": 14,
    "difficulty_label": "easy",
    "expected_output": "[ 1.  3. -1.]"
  },
  {
    "id": 50,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create a 4x4 matrix with 2s on the diagonal (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.eye(4) * 2; print(Z)",
    "difficulty_score": 14,
    "difficulty_label": "easy",
    "expected_output": "[[2. 0. 0. 0.]\n [0. 2. 0. 0.]\n [0. 0. 2. 0.]\n [0. 0. 0. 2.]]"
  },
  {
    "id": 51,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "How to find the memory size of any array (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.zeros((10,10))\nprint(\"%d bytes\" % (Z.size * Z.itemsize))\n\n# Simpler alternative\nprint(\"%d bytes\" % Z.nbytes)",
    "difficulty_score": 14,
    "difficulty_label": "easy",
    "expected_output": "800 bytes\n800 bytes"
  },
  {
    "id": 52,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Count the number of True values in a boolean array (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.array([True, False, True, True]); print(np.count_nonzero(Z))",
    "difficulty_score": 12,
    "difficulty_label": "easy",
    "expected_output": "3"
  },
  {
    "id": 53,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Generate 5 evenly spaced numbers from 0 to 1 (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.linspace(0, 1, 5); print(Z)",
    "difficulty_score": 12,
    "difficulty_label": "easy",
    "expected_output": "[0.   0.25 0.5  0.75 1.  ]"
  },
  {
    "id": 54,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Convert degrees to radians for [0,90,180] (★☆☆)\nPrint the result.",
    "answer_code": "print(np.deg2rad([0,90,180]))",
    "difficulty_score": 12,
    "difficulty_label": "easy",
    "expected_output": "[0.         1.57079633 3.14159265]"
  },
  {
    "id": 55,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "How to get all the dates corresponding to the month of July 2016? (★★☆)\nPrint the result.",
    "answer_code": "Z = np.arange('2016-07', '2016-08', dtype='datetime64[D]')\nprint(Z)",
    "difficulty_score": 40,
    "difficulty_label": "medium",
    "expected_output": "['2016-07-01' '2016-07-02' '2016-07-03' '2016-07-04' '2016-07-05'\n '2016-07-06' '2016-07-07' '2016-07-08' '2016-07-09' '2016-07-10'\n '2016-07-11' '2016-07-12' '2016-07-13' '2016-07-14' '2016-07-15'\n '2016-07-16' '2016-07-17' '2016-07-18' '2016-07-19' '2016-07-20'\n '2016-07-21' '2016-07-22' '2016-07-23' '2016-07-24' '2016-07-25'\n '2016-07-26' '2016-07-27' '2016-07-28' '2016-07-29' '2016-07-30'\n '2016-07-31']"
  },
  {
    "id": 56,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Consider a generator function that generates 10 integers and use it to build an array (★☆☆)\nPrint the result.",
    "answer_code": "def generate():\n    for x in range(10):\n        yield x\nZ = np.fromiter(generate(),dtype=float,count=-1)\nprint(Z)",
    "difficulty_score": 42,
    "difficulty_label": "easy",
    "expected_output": "[0. 1. 2. 3. 4. 5. 6. 7. 8. 9.]"
  },
  {
    "id": 57,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "How to print all the values of an array? (★★☆)",
    "answer_code": "np.set_printoptions(threshold=float(\"inf\"))\nZ = np.zeros((40,40))\nprint(Z)",
    "difficulty_score": 44,
    "difficulty_label": "medium",
    "expected_output": "[[0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.\n  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]]"
  },
  {
    "id": 58,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create a random vector of size 10 and sort it (★★☆)\nPrint the result.",
    "answer_code": "Z = np.random.random(10)\nZ.sort()\nprint(Z)",
    "difficulty_score": 46,
    "difficulty_label": "medium",
    "expected_output": "[0.16992849 0.18833719 0.2267247  0.48070648 0.53760859 0.59427194\n 0.59700102 0.63698946 0.73558225 0.90656448]"
  },
  {
    "id": 59,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "How to compute ((A+B)*(-A/2)) in place (without copy)? (★★☆)\nPrint the result.",
    "answer_code": "A = np.ones(3)*1\nB = np.ones(3)*2\nnp.add(A,B,out=B)\nnp.divide(A,2,out=A)\nnp.negative(A,out=A)\nnp.multiply(A,B,out=A)\nprint(A)",
    "difficulty_score": 48,
    "difficulty_label": "medium",
    "expected_output": "[-1.5 -1.5 -1.5]"
  },
  {
    "id": 60,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Create a 5x5 matrix with row values ranging from 0 to 4 (★★☆)\nPrint the result.",
    "answer_code": "Z = np.zeros((5,5))\nZ += np.arange(5)\nprint(Z)\n\n# without broadcasting\nZ = np.tile(np.arange(0, 5), (5,1))\nprint(Z)",
    "difficulty_score": 50,
    "difficulty_label": "medium",
    "expected_output": "[[0. 1. 2. 3. 4.]\n [0. 1. 2. 3. 4.]\n [0. 1. 2. 3. 4.]\n [0. 1. 2. 3. 4.]\n [0. 1. 2. 3. 4.]]\n[[0 1 2 3 4]\n [0 1 2 3 4]\n [0 1 2 3 4]\n [0 1 2 3 4]\n [0 1 2 3 4]]"
  },
  {
    "id": 61,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "How to find the closest value (to a given scalar) in a vector? (★★☆)\nPrint the result.",
    "answer_code": "Z = np.arange(100)\nv = np.random.uniform(0,100)\nindex = (np.abs(Z-v)).argmin()\nprint(Z[index])",
    "difficulty_score": 50,
    "difficulty_label": "medium",
    "expected_output": "63"
  },
  {
    "id": 62,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "How to sum a small array faster than np.sum? (★★☆)\nPrint the result.",
    "answer_code": "# Author: Evgeni Burovski\n\nZ = np.arange(10)\nprint(np.add.reduce(Z))",
    "difficulty_score": 50,
    "difficulty_label": "medium",
    "expected_output": "45"
  },
  {
    "id": 63,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Extract the integer part of a random array of positive numbers using 4 different methods (★★☆)\nPrint the result.",
    "answer_code": "Z = np.random.uniform(0,10,10)\n\nprint(Z - Z%1)\nprint(Z // 1)\nprint(np.floor(Z))\nprint(Z.astype(int))\nprint(np.trunc(Z))",
    "difficulty_score": 50,
    "difficulty_label": "medium",
    "expected_output": "[4. 2. 8. 0. 3. 7. 9. 5. 7. 9.]\n[4. 2. 8. 0. 3. 7. 9. 5. 7. 9.]\n[4. 2. 8. 0. 3. 7. 9. 5. 7. 9.]\n[4 2 8 0 3 7 9 5 7 9]\n[4. 2. 8. 0. 3. 7. 9. 5. 7. 9.]"
  },
  {
    "id": 64,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Consider two random arrays A and B, check if they are equal (★★☆)\nPrint the result.",
    "answer_code": "A = np.random.randint(0,2,5)\nB = np.random.randint(0,2,5)\n\n# Assuming identical shape of the arrays and a tolerance for the comparison of values\nequal = np.allclose(A,B)\nprint(equal)\n\n# Checking both the shape and the element values, no tolerance (values have to be exactly equal)\nequal = np.array_equal(A,B)\nprint(equal)",
    "difficulty_score": 54,
    "difficulty_label": "medium",
    "expected_output": "False\nFalse"
  },
  {
    "id": 65,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Make an array immutable (read-only) (★★☆)\nPrint the result.",
    "answer_code": "Z = np.zeros(10)\nZ.flags.writeable = False\nZ[0] = 1",
    "difficulty_score": 56,
    "difficulty_label": "medium",
    "expected_output": "[ERROR] Traceback (most recent call last):\n  File \"<string>\", line 4, in <module>\nValueError: assignment destination is read-only"
  },
  {
    "id": 66,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Consider a random 10x2 matrix representing cartesian coordinates, convert them to polar coordinates (★★☆)\nPrint the result.",
    "answer_code": "Z = np.random.random((10,2))\nX,Y = Z[:,0], Z[:,1]\nR = np.sqrt(X**2+Y**2)\nT = np.arctan2(Y,X)\nprint(R)\nprint(T)",
    "difficulty_score": 56,
    "difficulty_label": "medium",
    "expected_output": "[0.57252467 0.91137137 0.77340607 0.81284509 0.3169809  0.85470956\n 0.1693644  0.62853931 0.48933242 0.82315806]\n[0.77985606 0.4937261  0.88104334 0.63844228 0.46415504 1.48101358\n 0.47704524 0.10165502 1.22255291 0.25003248]"
  },
  {
    "id": 67,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Set negative values to 0 using clipping (ReLU). (★★☆)\nPrint the result.",
    "answer_code": "Z = np.linspace(-3, 3, 7)\nZ = Z.clip(min=0)\nprint(Z)",
    "difficulty_score": 58,
    "difficulty_label": "medium",
    "expected_output": "[0. 0. 0. 0. 1. 2. 3.]"
  },
  {
    "id": 68,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Check if a 1D array is non-decreasing. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.array([1,2,2,4,5])\nis_mono = np.all(np.diff(Z) >= 0)\nprint(is_mono)",
    "difficulty_score": 58,
    "difficulty_label": "medium",
    "expected_output": "True"
  },
  {
    "id": 69,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Repeat each element of a vector a variable number of times. (★★☆)\nPrint the result.",
    "answer_code": "x = np.array([1,2,3])\nrepeats = np.array([1,3,2])\ny = np.repeat(x, repeats)\nprint(y)",
    "difficulty_score": 58,
    "difficulty_label": "medium",
    "expected_output": "[1 2 2 2 3 3]"
  },
  {
    "id": 70,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Shuffle the rows of a 2D array. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.arange(12).reshape(4,3)\nperm = np.random.permutation(Z.shape[0])\nprint(Z[perm])",
    "difficulty_score": 58,
    "difficulty_label": "medium",
    "expected_output": "[[ 9 10 11]\n [ 6  7  8]\n [ 0  1  2]\n [ 3  4  5]]"
  },
  {
    "id": 71,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Map integer labels to new values using fancy indexing. (★★☆)\nPrint the result.",
    "answer_code": "labels = np.array([0,2,1,2,0])\nvalues = np.array([10, 20, 30])\nmapped = values[labels]\nprint(mapped)",
    "difficulty_score": 58,
    "difficulty_label": "medium",
    "expected_output": "[10 30 20 30 10]"
  },
  {
    "id": 72,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Create an 8x8 checkerboard array using slicing. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.zeros((8,8), dtype=int)\nZ[1::2, ::2] = 1\nZ[::2, 1::2] = 1\nprint(Z)",
    "difficulty_score": 58,
    "difficulty_label": "medium",
    "expected_output": "[[0 1 0 1 0 1 0 1]\n [1 0 1 0 1 0 1 0]\n [0 1 0 1 0 1 0 1]\n [1 0 1 0 1 0 1 0]\n [0 1 0 1 0 1 0 1]\n [1 0 1 0 1 0 1 0]\n [0 1 0 1 0 1 0 1]\n [1 0 1 0 1 0 1 0]]"
  },
  {
    "id": 73,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "What is the equivalent of enumerate for numpy arrays? (★★☆)\nPrint the result.",
    "answer_code": "Z = np.arange(9).reshape(3,3)\nfor index, value in np.ndenumerate(Z):\n    print(index, value)\nfor index in np.ndindex(Z.shape):\n    print(index, Z[index])",
    "difficulty_score": 58,
    "difficulty_label": "medium",
    "expected_output": "(0, 0) 0\n(0, 1) 1\n(0, 2) 2\n(1, 0) 3\n(1, 1) 4\n(1, 2) 5\n(2, 0) 6\n(2, 1) 7\n(2, 2) 8\n(0, 0) 0\n(0, 1) 1\n(0, 2) 2\n(1, 0) 3\n(1, 1) 4\n(1, 2) 5\n(2, 0) 6\n(2, 1) 7\n(2, 2) 8"
  },
  {
    "id": 74,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Set every 3rd element of a vector to -1. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.arange(12)\nZ[::3] = -1\nprint(Z)",
    "difficulty_score": 58,
    "difficulty_label": "medium",
    "expected_output": "[-1  1  2 -1  4  5 -1  7  8 -1 10 11]"
  },
  {
    "id": 75,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Rotate a 2D array by 90 degrees counterclockwise. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.arange(9).reshape(3,3)\nR = np.rot90(Z)\nprint(R)",
    "difficulty_score": 58,
    "difficulty_label": "medium",
    "expected_output": "[[2 5 8]\n [1 4 7]\n [0 3 6]]"
  },
  {
    "id": 76,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Flip a 2D array horizontally and vertically. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.arange(9).reshape(3,3)\nH = Z[:, ::-1]\nV = Z[::-1, :]\nprint(H)\nprint(V)",
    "difficulty_score": 58,
    "difficulty_label": "medium",
    "expected_output": "[[2 1 0]\n [5 4 3]\n [8 7 6]]\n[[6 7 8]\n [3 4 5]\n [0 1 2]]"
  },
  {
    "id": 77,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Extract the first superdiagonal (k=1) of a square matrix. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.arange(25).reshape(5,5)\nd = np.diag(Z, k=1)\nprint(d)",
    "difficulty_score": 58,
    "difficulty_label": "medium",
    "expected_output": "[ 1  7 13 19]"
  },
  {
    "id": 78,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Create a boolean mask for the upper triangular part including diagonal. (★★☆)\nPrint the result.",
    "answer_code": "n = 5\nmask = np.triu(np.ones((n,n), dtype=bool))\nprint(mask)",
    "difficulty_score": 58,
    "difficulty_label": "medium",
    "expected_output": "[[ True  True  True  True  True]\n [False  True  True  True  True]\n [False False  True  True  True]\n [False False False  True  True]\n [False False False False  True]]"
  },
  {
    "id": 79,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Get unique rows of a 2D array. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.array([[1,2,3],[1,2,3],[2,3,4]])\nU = np.unique(Z, axis=0)\nprint(U)",
    "difficulty_score": 58,
    "difficulty_label": "medium",
    "expected_output": "[[1 2 3]\n [2 3 4]]"
  },
  {
    "id": 80,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Min-max scale a vector to the [0,1] interval. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.random.rand(10)\nZ = (Z - Z.min()) / (Z.ptp())\nprint(Z)",
    "difficulty_score": 58,
    "difficulty_label": "medium",
    "expected_output": "[ERROR] Traceback (most recent call last):\n  File \"<string>\", line 3, in <module>\nAttributeError: 'numpy.ndarray' object has no attribute 'ptp'"
  },
  {
    "id": 81,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Tile a 1D vector into a 2D matrix and compute column means. (★★☆)\nPrint the result.",
    "answer_code": "v = np.arange(5)\nM = np.tile(v, (4,1))\ncm = M.mean(axis=0)\nprint(M)\nprint(cm)",
    "difficulty_score": 58,
    "difficulty_label": "medium",
    "expected_output": "[[0 1 2 3 4]\n [0 1 2 3 4]\n [0 1 2 3 4]\n [0 1 2 3 4]]\n[0. 1. 2. 3. 4.]"
  },
  {
    "id": 82,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Compute row-wise cumulative sums of a 2D array. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.arange(12).reshape(3,4)\nR = Z.cumsum(axis=1)\nprint(R)",
    "difficulty_score": 58,
    "difficulty_label": "medium",
    "expected_output": "[[ 0  1  3  6]\n [ 4  9 15 22]\n [ 8 17 27 38]]"
  },
  {
    "id": 83,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Create a structured array with `x` and `y` coordinates covering the [0,1]x[0,1] area (★★☆)\nPrint the result.",
    "answer_code": "Z = np.zeros((5,5), [('x',float),('y',float)])\nZ['x'], Z['y'] = np.meshgrid(np.linspace(0,1,5),\n                             np.linspace(0,1,5))\nprint(Z)",
    "difficulty_score": 58,
    "difficulty_label": "medium",
    "expected_output": "[[(0.  , 0.  ) (0.25, 0.  ) (0.5 , 0.  ) (0.75, 0.  ) (1.  , 0.  )]\n [(0.  , 0.25) (0.25, 0.25) (0.5 , 0.25) (0.75, 0.25) (1.  , 0.25)]\n [(0.  , 0.5 ) (0.25, 0.5 ) (0.5 , 0.5 ) (0.75, 0.5 ) (1.  , 0.5 )]\n [(0.  , 0.75) (0.25, 0.75) (0.5 , 0.75) (0.75, 0.75) (1.  , 0.75)]\n [(0.  , 1.  ) (0.25, 1.  ) (0.5 , 1.  ) (0.75, 1.  ) (1.  , 1.  )]]"
  },
  {
    "id": 84,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Stack two arrays along a new axis and take the mean. (★★☆)\nPrint the result.",
    "answer_code": "A = np.random.rand(3,4)\nB = np.random.rand(3,4)\nS = np.stack([A,B], axis=0).mean(axis=0)\nprint(S)",
    "difficulty_score": 58,
    "difficulty_label": "medium",
    "expected_output": "[[0.31206589 0.56800654 0.28367568 0.66187566]\n [0.21160109 0.68957924 0.6353237  0.22636494]\n [0.24468365 0.54233246 0.73668624 0.96023693]]"
  },
  {
    "id": 85,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Remove all-zero rows from a 2D array. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.array([[0,0,0],[1,0,2],[0,0,0],[3,4,5]])\nZ = Z[~(Z==0).all(axis=1)]\nprint(Z)",
    "difficulty_score": 58,
    "difficulty_label": "medium",
    "expected_output": "[[1 0 2]\n [3 4 5]]"
  },
  {
    "id": 86,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Get coordinates of nonzero elements from a binary mask. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.zeros((4,5), dtype=int)\nZ[1,2] = 1; Z[3,4] = 1\ncoords = np.argwhere(Z)\nprint(coords)",
    "difficulty_score": 58,
    "difficulty_label": "medium",
    "expected_output": "[[1 2]\n [3 4]]"
  },
  {
    "id": 87,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Compute a histogram of values with 5 bins and return bin counts. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.random.rand(100)\ncounts, edges = np.histogram(Z, bins=5, range=(0.0, 1.0))\nprint(counts)\nprint(edges)",
    "difficulty_score": 60,
    "difficulty_label": "medium",
    "expected_output": "[20 22 18 18 22]\n[0.  0.2 0.4 0.6 0.8 1. ]"
  },
  {
    "id": 88,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Print the minimum and maximum representable values for each numpy scalar type (★★☆)",
    "answer_code": "for dtype in [np.int8, np.int32, np.int64]:\n   print(np.iinfo(dtype).min)\n   print(np.iinfo(dtype).max)\nfor dtype in [np.float32, np.float64]:\n   print(np.finfo(dtype).min)\n   print(np.finfo(dtype).max)\n   print(np.finfo(dtype).eps)",
    "difficulty_score": 60,
    "difficulty_label": "medium",
    "expected_output": "-128\n127\n-2147483648\n2147483647\n-9223372036854775808\n9223372036854775807\n-3.4028235e+38\n3.4028235e+38\n1.1920929e-07\n-1.7976931348623157e+308\n1.7976931348623157e+308\n2.220446049250313e-16"
  },
  {
    "id": 89,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Interleave two equal-length vectors elementwise. (★★☆)\nPrint the result.",
    "answer_code": "a = np.array([1,3,5])\nb = np.array([2,4,6])\nout = np.ravel(np.column_stack((a,b)))\nprint(out)",
    "difficulty_score": 60,
    "difficulty_label": "medium",
    "expected_output": "[1 2 3 4 5 6]"
  },
  {
    "id": 90,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Pad a 2D array with a constant 1-wide border of -1. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.ones((3,3), dtype=int)\nP = np.pad(Z, pad_width=1, mode='constant', constant_values=-1)\nprint(P)",
    "difficulty_score": 60,
    "difficulty_label": "medium",
    "expected_output": "[[-1 -1 -1 -1 -1]\n [-1  1  1  1 -1]\n [-1  1  1  1 -1]\n [-1  1  1  1 -1]\n [-1 -1 -1 -1 -1]]"
  },
  {
    "id": 91,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "How to randomly place p elements in a 2D array? (★★☆)\nPrint the result.",
    "answer_code": "# Author: Divakar\n\nn = 10\np = 3\nZ = np.zeros((n,n))\nnp.put(Z, np.random.choice(range(n*n), p, replace=False),1)\nprint(Z)",
    "difficulty_score": 60,
    "difficulty_label": "medium",
    "expected_output": "[[0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [1. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 1. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [1. 0. 0. 0. 0. 0. 0. 0. 0. 0.]]"
  },
  {
    "id": 92,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "How to sort an array by the nth column? (★★☆)\nPrint the result.",
    "answer_code": "# Author: Steve Tjoa\n\nZ = np.random.randint(0,10,(3,3))\nprint(Z)\nprint(Z[Z[:,1].argsort()])",
    "difficulty_score": 60,
    "difficulty_label": "medium",
    "expected_output": "[[2 1 8]\n [5 2 5]\n [7 3 6]]\n[[2 1 8]\n [5 2 5]\n [7 3 6]]"
  },
  {
    "id": 93,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "One-hot encode integer labels from 0..K-1. (★★☆)\nPrint the result.",
    "answer_code": "labels = np.array([0,2,1,2])\nK = labels.max() + 1\nonehot = np.eye(K)[labels]\nprint(onehot)",
    "difficulty_score": 60,
    "difficulty_label": "medium",
    "expected_output": "[[1. 0. 0.]\n [0. 0. 1.]\n [0. 1. 0.]\n [0. 0. 1.]]"
  },
  {
    "id": 94,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Mask elements of an array where another array exceeds 0.5. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.random.rand(4,4)\nY = np.random.rand(4,4)\nZ[Y > 0.5] = -1\nprint(Z)",
    "difficulty_score": 60,
    "difficulty_label": "medium",
    "expected_output": "[[ 0.14159384 -1.          0.64613209  0.7921272 ]\n [ 0.11454557  0.71502814  0.66959616 -1.        ]\n [-1.          0.10595674  0.8494133  -1.        ]\n [-1.          0.39363278 -1.         -1.        ]]"
  },
  {
    "id": 95,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Convert an RGB image to grayscale using dot product. (★★☆)\nPrint the result.",
    "answer_code": "I = np.random.randint(0, 256, (4,4,3)).astype(np.uint8)\nG = np.dot(I[...,:3], [0.299, 0.587, 0.114])\nprint(G)",
    "difficulty_score": 60,
    "difficulty_label": "medium",
    "expected_output": "[[153.506 107.705 166.418 127.088]\n [199.612 156.776 190.38  115.287]\n [ 71.01  228.706 192.557  77.841]\n [188.672 120.394 153.159 106.723]]"
  },
  {
    "id": 96,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Create a structured array representing a position (x,y) and a color (r,g,b) (★★☆)\nPrint the result.",
    "answer_code": "Z = np.zeros(10, [ ('position', [ ('x', float, 1),\n                                  ('y', float, 1)]),\n                   ('color',    [ ('r', float, 1),\n                                  ('g', float, 1),\n                                  ('b', float, 1)])])\nprint(Z)",
    "difficulty_score": 60,
    "difficulty_label": "medium",
    "expected_output": "[(([0.], [0.]), ([0.], [0.], [0.])) (([0.], [0.]), ([0.], [0.], [0.]))\n (([0.], [0.]), ([0.], [0.], [0.])) (([0.], [0.]), ([0.], [0.], [0.]))\n (([0.], [0.]), ([0.], [0.], [0.])) (([0.], [0.]), ([0.], [0.], [0.]))\n (([0.], [0.]), ([0.], [0.], [0.])) (([0.], [0.]), ([0.], [0.], [0.]))\n (([0.], [0.]), ([0.], [0.], [0.])) (([0.], [0.]), ([0.], [0.], [0.]))]"
  },
  {
    "id": 97,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Normalize a vector to unit L2 length. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.random.rand(10)\nZ = Z / np.linalg.norm(Z)\nprint(Z)",
    "difficulty_score": 60,
    "difficulty_label": "medium",
    "expected_output": "[0.27995634 0.07506861 0.14604666 0.40894894 0.20797201 0.20250243\n 0.43321546 0.27503238 0.45066407 0.4204095 ]"
  },
  {
    "id": 98,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Find the nearest value from a given value in an array (★★☆)\nPrint the result.",
    "answer_code": "Z = np.random.uniform(0,1,10)\nz = 0.5\nm = Z.flat[np.abs(Z - z).argmin()]\nprint(m)",
    "difficulty_score": 60,
    "difficulty_label": "medium",
    "expected_output": "0.4259094837948626"
  },
  {
    "id": 99,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Compute a 1D moving average with window size 3 using convolution. (★★☆)\nPrint the result.",
    "answer_code": "x = np.arange(10, dtype=float)\nkernel = np.ones(3)/3.0\nma = np.convolve(x, kernel, mode='valid')\nprint(ma)",
    "difficulty_score": 60,
    "difficulty_label": "medium",
    "expected_output": "[1. 2. 3. 4. 5. 6. 7. 8.]"
  },
  {
    "id": 100,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Safely divide two arrays, treating division by zero as 0. (★★☆)\nPrint the result.",
    "answer_code": "a = np.array([1.0, 2.0, 0.0])\nb = np.array([2.0, 0.0, 3.0])\nout = np.divide(a, b, out=np.zeros_like(a), where=b!=0)\nprint(out)",
    "difficulty_score": 60,
    "difficulty_label": "medium",
    "expected_output": "[0.5 0.  0. ]"
  },
  {
    "id": 101,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Randomly select k unique rows from a 2D array. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.random.randint(0,10,(10,3))\nk = 4\nidx = np.random.choice(Z.shape[0], k, replace=False)\nprint(Z[idx])",
    "difficulty_score": 60,
    "difficulty_label": "medium",
    "expected_output": "[[3 2 6]\n [1 9 8]\n [5 1 2]\n [9 4 1]]"
  },
  {
    "id": 102,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Get unique values and their counts, sorted by count desc. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.random.randint(0,5,20)\nvals, cnts = np.unique(Z, return_counts=True)\norder = np.argsort(cnts)[::-1]\nprint(vals[order])\nprint(cnts[order])",
    "difficulty_score": 60,
    "difficulty_label": "medium",
    "expected_output": "[2 0 1 3 4]\n[5 5 5 3 2]"
  },
  {
    "id": 103,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Compute softmax over a vector. (★★☆)\nPrint the result.",
    "answer_code": "z = np.array([1.0, 2.0, 3.0])\ne = np.exp(z - z.max())\nsoftmax = e / e.sum()\nprint(softmax)",
    "difficulty_score": 60,
    "difficulty_label": "medium",
    "expected_output": "[0.09003057 0.24472847 0.66524096]"
  },
  {
    "id": 104,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Generate a random permutation matrix of size n. (★★☆)\nPrint the result.",
    "answer_code": "n = 5\nP = np.eye(n)[np.random.permutation(n)]\nprint(P)",
    "difficulty_score": 60,
    "difficulty_label": "medium",
    "expected_output": "[[1. 0. 0. 0. 0.]\n [0. 0. 1. 0. 0.]\n [0. 0. 0. 0. 1.]\n [0. 1. 0. 0. 0.]\n [0. 0. 0. 1. 0.]]"
  },
  {
    "id": 105,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Generate a 2D Gaussian-like array using the exact grid and parameters below (★★☆)\nUse X, Y = np.meshgrid(np.linspace(-1,1,10), np.linspace(-1,1,10))\nThen D = np.sqrt(X*X+Y*Y), sigma = 1.0, mu = 0.0, and\nG = np.exp(-((D-mu)**2 / (2.0 * sigma**2)))\nPrint G.",
    "answer_code": "X, Y = np.meshgrid(np.linspace(-1,1,10), np.linspace(-1,1,10))\nD = np.sqrt(X*X+Y*Y)\nsigma, mu = 1.0, 0.0\nG = np.exp(-( (D-mu)**2 / ( 2.0 * sigma**2 ) ) )\nprint(G)",
    "difficulty_score": 62,
    "difficulty_label": "medium",
    "expected_output": "[[0.36787944 0.44822088 0.51979489 0.57375342 0.60279818 0.60279818\n  0.57375342 0.51979489 0.44822088 0.36787944]\n [0.44822088 0.54610814 0.63331324 0.69905581 0.73444367 0.73444367\n  0.69905581 0.63331324 0.54610814 0.44822088]\n [0.51979489 0.63331324 0.73444367 0.81068432 0.85172308 0.85172308\n  0.81068432 0.73444367 0.63331324 0.51979489]\n [0.57375342 0.69905581 0.81068432 0.89483932 0.9401382  0.9401382\n  0.89483932 0.81068432 0.69905581 0.57375342]\n [0.60279818 0.73444367 0.85172308 0.9401382  0.98773022 0.98773022\n  0.9401382  0.85172308 0.73444367 0.60279818]\n [0.60279818 0.73444367 0.85172308 0.9401382  0.98773022 0.98773022\n  0.9401382  0.85172308 0.73444367 0.60279818]\n [0.57375342 0.69905581 0.81068432 0.89483932 0.9401382  0.9401382\n  0.89483932 0.81068432 0.69905581 0.57375342]\n [0.51979489 0.63331324 0.73444367 0.81068432 0.85172308 0.85172308\n  0.81068432 0.73444367 0.63331324 0.51979489]\n [0.44822088 0.54610814 0.63331324 0.69905581 0.73444367 0.73444367\n  0.69905581 0.63331324 0.54610814 0.44822088]\n [0.36787944 0.44822088 0.51979489 0.57375342 0.60279818 0.60279818\n  0.57375342 0.51979489 0.44822088 0.36787944]]"
  },
  {
    "id": 106,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Standardize each column of a matrix to zero mean and unit std. (★★☆)\nPrint the result.",
    "answer_code": "X = np.random.randn(5, 4)\nX = (X - X.mean(axis=0)) / X.std(axis=0, ddof=0)\nprint(X)",
    "difficulty_score": 62,
    "difficulty_label": "medium",
    "expected_output": "[[ 1.40469618 -1.22025664 -1.57277145  0.88360839]\n [-1.35792998  1.77309263  0.98873144  0.37054491]\n [ 0.53170776 -0.27248252  0.25102389  1.07712429]\n [-0.89455739  0.21589242  1.01218449 -1.48525444]\n [ 0.31608344 -0.49624589 -0.67916837 -0.84602316]]"
  },
  {
    "id": 107,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Solve a linear system Ax = b for a random 3x3 A. (★★☆)\nPrint the result.",
    "answer_code": "A = np.random.rand(3,3)\nb = np.random.rand(3)\nx = np.linalg.solve(A, b)\nprint(x)",
    "difficulty_score": 62,
    "difficulty_label": "medium",
    "expected_output": "[ 5.14506648  0.47077899 -4.38722011]"
  },
  {
    "id": 108,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Compute column-wise quartiles (0.25, 0.5, 0.75). (★★☆)\nPrint the result.",
    "answer_code": "X = np.random.randn(100,3)\nq = np.quantile(X, [0.25, 0.5, 0.75], axis=0)\nprint(q)",
    "difficulty_score": 62,
    "difficulty_label": "medium",
    "expected_output": "[[-0.49251721 -0.61809092 -0.72365599]\n [-0.00706699  0.11535494  0.02562234]\n [ 0.84945466  0.91432367  0.72241158]]"
  },
  {
    "id": 109,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Subtract the mean of each row of a matrix (★★☆)\nPrint the result.",
    "answer_code": "# Author: Warren Weckesser\n\nX = np.random.rand(5, 10)\n\n# Recent versions of numpy\nY = X - X.mean(axis=1, keepdims=True)\n\n# Older versions of numpy\nY = X - X.mean(axis=1).reshape(-1, 1)\n\nprint(Y)",
    "difficulty_score": 62,
    "difficulty_label": "medium",
    "expected_output": "[[-0.38319189  0.00882367 -0.1750345  -0.35522474  0.5079892   0.05089086\n  -0.22387468  0.24632219 -0.11764188  0.44094177]\n [ 0.14796244  0.15437542  0.01179455 -0.46516048  0.0689555  -0.05635658\n   0.08551346  0.44360694 -0.44147799  0.05078673]\n [-0.19198306  0.44187083 -0.24142991 -0.03958377  0.07343688 -0.12095197\n   0.39130212 -0.13598446 -0.17249766 -0.00417899]\n [ 0.13545534 -0.26779492  0.13541999 -0.15180051  0.34405964  0.45543967\n  -0.30020802 -0.36311538 -0.0200415   0.03258569]\n [-0.14970781  0.41353103  0.05889307  0.13121059 -0.39064405  0.04437748\n  -0.26178678 -0.36702406  0.06075783  0.46039269]]"
  },
  {
    "id": 110,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Find the bounding box of nonzero entries in a 2D array. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.zeros((6,7), dtype=int)\nZ[2:5, 3:6] = 1\nrows = np.any(Z, axis=1)\ncols = np.any(Z, axis=0)\nrmin, rmax = np.where(rows)[0][[0, -1]]\ncmin, cmax = np.where(cols)[0][[0, -1]]\nprint((rmin, rmax, cmin, cmax))",
    "difficulty_score": 62,
    "difficulty_label": "medium",
    "expected_output": "(np.int64(2), np.int64(4), np.int64(3), np.int64(5))"
  },
  {
    "id": 111,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Considering two arrays with shape (1,3) and (3,1), how to compute their sum using an iterator? (★★☆)\nPrint the result.",
    "answer_code": "A = np.arange(3).reshape(3,1)\nB = np.arange(3).reshape(1,3)\nit = np.nditer([A,B,None])\nfor x,y,z in it: z[...] = x + y\nprint(it.operands[2])",
    "difficulty_score": 62,
    "difficulty_label": "medium",
    "expected_output": "[[0 1 2]\n [1 2 3]\n [2 3 4]]"
  },
  {
    "id": 112,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Keep only elements within k=1 diagonal band of a square matrix. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.arange(25).reshape(5,5)\nmask = np.abs(np.arange(5)[:,None] - np.arange(5)[None,:]) <= 1\nZ = Z * mask\nprint(Z)",
    "difficulty_score": 62,
    "difficulty_label": "medium",
    "expected_output": "[[ 0  1  0  0  0]\n [ 5  6  7  0  0]\n [ 0 11 12 13  0]\n [ 0  0 17 18 19]\n [ 0  0  0 23 24]]"
  },
  {
    "id": 113,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Create an array class that has a name attribute (★★☆)\nPrint the result.",
    "answer_code": "class NamedArray(np.ndarray):\n    def __new__(cls, array, name=\"no name\"):\n        obj = np.asarray(array).view(cls)\n        obj.name = name\n        return obj\n    def __array_finalize__(self, obj):\n        if obj is None: return\n        self.name = getattr(obj, 'name', \"no name\")\n\nZ = NamedArray(np.arange(10), \"range_10\")\nprint (Z.name)",
    "difficulty_score": 62,
    "difficulty_label": "medium",
    "expected_output": "range_10"
  },
  {
    "id": 114,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Rank elements within a vector (0-based) using argsort twice. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.array([10, 40, 20, 30])\nranks = Z.argsort().argsort()\nprint(ranks)",
    "difficulty_score": 62,
    "difficulty_label": "medium",
    "expected_output": "[0 3 1 2]"
  },
  {
    "id": 115,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "How to tell if a given 2D array has null columns? (★★☆)\nPrint the result.",
    "answer_code": "# Author: Warren Weckesser\n\n# null : 0 \nZ = np.random.randint(0,3,(3,10))\nprint((~Z.any(axis=0)).any())\n\n# null : np.nan\nZ=np.array([\n    [0,1,np.nan],\n    [1,2,np.nan],\n    [4,5,np.nan]\n])\nprint(np.isnan(Z).all(axis=0))",
    "difficulty_score": 62,
    "difficulty_label": "medium",
    "expected_output": "False\n[False False  True]"
  },
  {
    "id": 116,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create a 2D Manhattan distance map from the center. (★★☆)\nPrint the result.",
    "answer_code": "n = 5\nY, X = np.ogrid[:n, :n]\ncenter = (n//2, n//2)\nD = np.abs(Y - center[0]) + np.abs(X - center[1])\nprint(D)",
    "difficulty_score": 62,
    "difficulty_label": "medium",
    "expected_output": "[[4 3 2 3 4]\n [3 2 1 2 3]\n [2 1 0 1 2]\n [3 2 1 2 3]\n [4 3 2 3 4]]"
  },
  {
    "id": 117,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create sliding window views (size=3) over a 1D array. (★★☆)\nPrint the result.",
    "answer_code": "x = np.arange(7)\nfrom numpy.lib.stride_tricks import sliding_window_view\nW = sliding_window_view(x, window_shape=3)\nprint(W)",
    "difficulty_score": 64,
    "difficulty_label": "medium",
    "expected_output": "[[0 1 2]\n [1 2 3]\n [2 3 4]\n [3 4 5]\n [4 5 6]]"
  },
  {
    "id": 118,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Given two arrays, X and Y, construct the Cauchy matrix C (Cij =1/(xi - yj)) (★★☆)\nPrint the result.",
    "answer_code": "# Author: Evgeni Burovski\n\nX = np.arange(8)\nY = X + 0.5\nC = 1.0 / np.subtract.outer(X, Y)\nprint(np.linalg.det(C))",
    "difficulty_score": 64,
    "difficulty_label": "medium",
    "expected_output": "3638.1636371179666"
  },
  {
    "id": 119,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Find indices of the top-3 largest elements in a vector. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.random.rand(10)\nk = 3\nidx = np.argpartition(Z, -k)[-k:]\nidx = idx[np.argsort(Z[idx])[::-1]]\nprint(idx)",
    "difficulty_score": 64,
    "difficulty_label": "medium",
    "expected_output": "[4 0 2]"
  },
  {
    "id": 120,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Replace NaNs in each column with the column mean. (★★☆)\nPrint the result.",
    "answer_code": "X = np.random.randn(5,4)\nX[::2, 1] = np.nan\ncol_means = np.nanmean(X, axis=0)\nidx = np.where(np.isnan(X))\nX[idx] = np.take(col_means, idx[1])\nprint(X)",
    "difficulty_score": 64,
    "difficulty_label": "medium",
    "expected_output": "[[-0.68251698 -0.27056533 -0.34717368  1.62302513]\n [ 2.25959845 -0.76308003 -1.5788158  -0.73524404]\n [ 0.39078776 -0.27056533  0.51673811  0.04037029]\n [-1.12575257  0.22194937 -0.46028186 -1.89396384]\n [-2.39524508 -0.27056533 -0.54098371 -0.22534603]]"
  },
  {
    "id": 121,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Batched dot products of row-aligned vectors using einsum. (★★☆)\nPrint the result.",
    "answer_code": "A = np.random.rand(5,4)\nB = np.random.rand(5,4)\ndots = np.einsum('ij,ij->i', A, B)\nprint(dots)",
    "difficulty_score": 64,
    "difficulty_label": "medium",
    "expected_output": "[0.2411849  1.63791094 0.99392208 1.74768498 1.28837497]"
  },
  {
    "id": 122,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Compute the correlation matrix between columns. (★★☆)\nPrint the result.",
    "answer_code": "X = np.random.randn(100,4)\nC = np.corrcoef(X, rowvar=False)\nprint(C)",
    "difficulty_score": 64,
    "difficulty_label": "medium",
    "expected_output": "[[ 1.         -0.12835261  0.0905946   0.03156166]\n [-0.12835261  1.         -0.18839136  0.08954937]\n [ 0.0905946  -0.18839136  1.          0.05502689]\n [ 0.03156166  0.08954937  0.05502689  1.        ]]"
  },
  {
    "id": 123,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "How to convert a float (32 bits) array into an integer (32 bits) array in place?\nPrint the result.",
    "answer_code": "# Thanks Vikas (https://stackoverflow.com/a/10622758/5989906)\n# & unutbu (https://stackoverflow.com/a/4396247/5989906)\nZ = (np.random.rand(10)*100).astype(np.float32)\nY = Z.view(np.int32)\nY[:] = Z\nprint(Y)",
    "difficulty_score": 64,
    "difficulty_label": "medium",
    "expected_output": "[91 14  7 70 53 86 61 12 43 46]"
  },
  {
    "id": 124,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "For each row, set only the max element to 1 and others to 0. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.random.rand(4,5)\nidx = Z.argmax(axis=1)\nout = np.zeros_like(Z)\nout[np.arange(Z.shape[0]), idx] = 1\nprint(out)",
    "difficulty_score": 64,
    "difficulty_label": "medium",
    "expected_output": "[[0. 0. 0. 0. 1.]\n [0. 0. 0. 1. 0.]\n [0. 0. 0. 0. 1.]\n [0. 0. 0. 0. 1.]]"
  },
  {
    "id": 125,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "How to read the following file? (★★☆)\n1, 2, 3, 4, 5\n6,  ,  , 7, 8\n ,  , 9,10,11\nPrint the result.",
    "answer_code": "from io import StringIO\n\n# Fake file\ns = StringIO('''1, 2, 3, 4, 5\n\n                6,  ,  , 7, 8\n\n                 ,  , 9,10,11\n''')\nZ = np.genfromtxt(s, delimiter=',', dtype=np.int)\nprint(Z)",
    "difficulty_score": 64,
    "difficulty_label": "medium",
    "expected_output": "[ERROR] Traceback (most recent call last):\n  File \"<string>\", line 11, in <module>\n  File \"/home/stellar-thread/Applications/pdf-split-tool/backend/.venv/lib/python3.12/site-packages/numpy/__init__.py\", line 775, in __getattr__\n    raise AttributeError(__former_attrs__[attr], name=None)\nAttributeError: module 'numpy' has no attribute 'int'.\n`np.int` was a deprecated alias for the builtin `int`. To avoid this error in existing code, use `int` by itself. Doing this will not modify any behavior and is safe. When replacing `np.int`, you may wish to use e.g. `np.int64` or `np.int32` to specify the precision. If you wish to review your current use, check the release note link for additional information.\nThe aliases was originally deprecated in NumPy 1.20; for more details and guidance see the original release note at:\n    https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations"
  },
  {
    "id": 126,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Compute block sums by reshaping a 2D array into 2x2 blocks. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.arange(4*6).reshape(4,6)\nZ2 = Z.reshape(2,2,3,2)\nblock_sums = Z2.sum(axis=(1,3))\nprint(block_sums)",
    "difficulty_score": 66,
    "difficulty_label": "medium",
    "expected_output": "[[14 22 30]\n [62 70 78]]"
  },
  {
    "id": 127,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Consider a random vector with shape (100,2) representing coordinates, find point by point distances (★★☆)\nPrint the result.",
    "answer_code": "Z = np.random.random((10,2))\nX,Y = np.atleast_2d(Z[:,0], Z[:,1])\nD = np.sqrt( (X-X.T)**2 + (Y-Y.T)**2)\nprint(D)\n\n# Much faster with scipy\nimport scipy\n# Thanks Gavin Heverly-Coulson (#issue 1)\nimport scipy.spatial\n\nZ = np.random.random((10,2))\nD = scipy.spatial.distance.cdist(Z,Z)\nprint(D)",
    "difficulty_score": 66,
    "difficulty_label": "medium",
    "expected_output": "[ERROR] Traceback (most recent call last):\n  File \"<string>\", line 8, in <module>\nModuleNotFoundError: No module named 'scipy'"
  },
  {
    "id": 128,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Compute cosine similarity matrix between row vectors. (★★☆)\nPrint the result.",
    "answer_code": "X = np.random.rand(5,4)\nnorms = np.linalg.norm(X, axis=1, keepdims=True)\nS = (X @ X.T) / (norms @ norms.T)\nprint(S)",
    "difficulty_score": 66,
    "difficulty_label": "medium",
    "expected_output": "[[1.         0.80378514 0.79234472 0.66140213 0.8206145 ]\n [0.80378514 1.         0.9577044  0.91974193 0.83739071]\n [0.79234472 0.9577044  1.         0.97520674 0.84711683]\n [0.66140213 0.91974193 0.97520674 1.         0.84030333]\n [0.8206145  0.83739071 0.84711683 0.84030333 1.        ]]"
  },
  {
    "id": 129,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Compute k=2 nearest neighbors (indices) for points in 2D. (★★☆)\nPrint the result.",
    "answer_code": "Z = np.random.rand(6,2)\nX, Y = Z[:,None,:], Z[None,:,:]\ndist2 = ((X - Y)**2).sum(axis=2)\nk = 2\nidx = np.argpartition(dist2, kth=k+1, axis=1)[:, 1:k+1]\nprint(idx)",
    "difficulty_score": 66,
    "difficulty_label": "medium",
    "expected_output": "[[3 2]\n [3 0]\n [0 3]\n [0 2]\n [1 5]\n [1 2]]"
  },
  {
    "id": 130,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Index of first nonzero element in each row (or -1 if none). (★★☆)\nPrint the result.",
    "answer_code": "Z = np.array([[0,0,3],[0,2,0],[0,0,0]])\nmask = Z != 0\nidx = np.where(mask.any(axis=1), mask.argmax(axis=1), -1)\nprint(idx)",
    "difficulty_score": 66,
    "difficulty_label": "medium",
    "expected_output": "[ 2  1 -1]"
  },
  {
    "id": 131,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Consider a given vector, how to add 1 to each element indexed by a second vector (be careful with repeated indices)? (★★★)\nPrint the result.",
    "answer_code": "# Author: Brett Olsen\n\nZ = np.ones(10)\nI = np.random.randint(0,len(Z),20)\nZ += np.bincount(I, minlength=len(Z))\nprint(Z)\n\n# Another solution\n# Author: Bartosz Telenczuk\nnp.add.at(Z, I, 1)\nprint(Z)",
    "difficulty_score": 72,
    "difficulty_label": "hard",
    "expected_output": "[1. 1. 2. 3. 2. 2. 4. 4. 6. 5.]\n[ 1.  1.  3.  5.  3.  3.  7.  7. 11.  9.]"
  },
  {
    "id": 132,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "How to accumulate elements of a vector (X) to an array (F) based on an index list (I)? (★★★)\nPrint the result.",
    "answer_code": "# Author: Alan G Isaac\n\nX = [1,2,3,4,5,6]\nI = [1,3,9,3,4,1]\nF = np.bincount(I,X)\nprint(F)",
    "difficulty_score": 74,
    "difficulty_label": "hard",
    "expected_output": "[0. 7. 0. 6. 5. 0. 0. 0. 0. 3.]"
  },
  {
    "id": 133,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Considering a (w,h,3) image of (dtype=ubyte), compute the number of unique colors (★★☆)\nPrint the result.",
    "answer_code": "# Author: Fisher Wang\n\nw, h = 256, 256\nI = np.random.randint(0, 4, (h, w, 3)).astype(np.ubyte)\ncolors = np.unique(I.reshape(-1, 3), axis=0)\nn = len(colors)\nprint(n)\n\n# Faster version\n# Author: Mark Setchell\n# https://stackoverflow.com/a/59671950/2836621\n\nw, h = 256, 256\nI = np.random.randint(0,4,(h,w,3), dtype=np.uint8)\n\n# View each pixel as a single 24-bit integer, rather than three 8-bit bytes\nI24 = np.dot(I.astype(np.uint32),[1,256,65536])\n\n# Count unique colours\nn = len(np.unique(I24))\nprint(n)",
    "difficulty_score": 76,
    "difficulty_label": "medium",
    "expected_output": "64\n64"
  },
  {
    "id": 134,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "How to find the most frequent value in an array?\nPrint the result.",
    "answer_code": "Z = np.random.randint(0,10,50)\nprint(np.bincount(Z).argmax())",
    "difficulty_score": 78,
    "difficulty_label": "hard",
    "expected_output": "1"
  },
  {
    "id": 135,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Considering a four dimensions array, how to get sum over the last two axis at once? (★★★)\nPrint the result.",
    "answer_code": "A = np.random.randint(0,10,(3,4,3,4))\n# solution by passing a tuple of axes (introduced in numpy 1.7.0)\nsum = A.sum(axis=(-2,-1))\nprint(sum)\n# solution by flattening the last two dimensions into one\n# (useful for functions that don't accept tuples for axis argument)\nsum = A.reshape(A.shape[:-2] + (-1,)).sum(axis=-1)\nprint(sum)",
    "difficulty_score": 78,
    "difficulty_label": "hard",
    "expected_output": "[[67 37 52 55]\n [51 55 70 60]\n [51 61 38 48]]\n[[67 37 52 55]\n [51 55 70 60]\n [51 61 38 48]]"
  },
  {
    "id": 136,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "How to swap two rows of an array? (★★★)\nPrint the result.",
    "answer_code": "# Author: Eelco Hoogendoorn\n\nA = np.arange(25).reshape(5,5)\nA[[0,1]] = A[[1,0]]\nprint(A)",
    "difficulty_score": 80,
    "difficulty_label": "hard",
    "expected_output": "[[ 5  6  7  8  9]\n [ 0  1  2  3  4]\n [10 11 12 13 14]\n [15 16 17 18 19]\n [20 21 22 23 24]]"
  },
  {
    "id": 137,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Considering a one-dimensional vector D, how to compute means of subsets of D using a vector S of same size describing subset  indices? (★★★)\nPrint the result.",
    "answer_code": "# Author: Jaime Fernández del Río\n\nD = np.random.uniform(0,1,100)\nS = np.random.randint(0,10,100)\nD_sums = np.bincount(S, weights=D)\nD_counts = np.bincount(S)\nD_means = D_sums / D_counts\nprint(D_means)\n\n# Pandas solution as a reference due to more intuitive code\nimport pandas as pd\nprint(pd.Series(D).groupby(S).mean())",
    "difficulty_score": 80,
    "difficulty_label": "hard",
    "expected_output": "[ERROR] Traceback (most recent call last):\n  File \"<string>\", line 12, in <module>\nModuleNotFoundError: No module named 'pandas'"
  },
  {
    "id": 138,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Shuffle the rows of a 2D array in-place given a random permutation (★★★)\nPrint the result.",
    "answer_code": "Z = np.arange(20).reshape(5,4)\np = np.random.permutation(Z.shape[0])\nZ[:] = Z[p]\nprint(Z)",
    "difficulty_score": 82,
    "difficulty_label": "hard",
    "expected_output": "[[ 8  9 10 11]\n [12 13 14 15]\n [16 17 18 19]\n [ 0  1  2  3]\n [ 4  5  6  7]]"
  },
  {
    "id": 139,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Sample m distinct rows from a 2D array without replacement (★★★)\nPrint the result.",
    "answer_code": "Z = np.arange(40).reshape(10,4)\nm = 3\nidx = np.random.choice(Z.shape[0], size=m, replace=False)\nprint(Z[idx])",
    "difficulty_score": 82,
    "difficulty_label": "hard",
    "expected_output": "[[12 13 14 15]\n [32 33 34 35]\n [36 37 38 39]]"
  },
  {
    "id": 140,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Extract the k-th diagonal (k can be negative) of a 2D array (★★★)\nPrint the result.",
    "answer_code": "A = np.arange(1, 26).reshape(5,5)\nk = -2\ndiag_k = np.diag(A, k=k)\nprint(diag_k)",
    "difficulty_score": 82,
    "difficulty_label": "hard",
    "expected_output": "[11 17 23]"
  },
  {
    "id": 141,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "How to get the diagonal of a dot product? (★★★)\nPrint the result.",
    "answer_code": "# Author: Mathieu Blondel\n\nA = np.random.uniform(0,1,(5,5))\nB = np.random.uniform(0,1,(5,5))\n\n# Slow version\nprint(np.diag(np.dot(A, B)))\n\n# Fast version\nprint(np.sum(A * B.T, axis=1))\n\n# Faster version\nprint(np.einsum(\"ij,ji->i\", A, B))",
    "difficulty_score": 82,
    "difficulty_label": "hard",
    "expected_output": "[0.2753403  1.55482718 1.02467369 0.67419803 2.49856616]\n[0.2753403  1.55482718 1.02467369 0.67419803 2.49856616]\n[0.2753403  1.55482718 1.02467369 0.67419803 2.49856616]"
  },
  {
    "id": 142,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Find rows containing any non-finite values (NaN or Inf) (★★★)\nPrint the result.",
    "answer_code": "Z = np.random.randn(6, 4)\nZ[1,2] = np.nan; Z[4,0] = np.inf\nmask = ~np.isfinite(Z).all(axis=1)\nprint(np.where(mask)[0])",
    "difficulty_score": 82,
    "difficulty_label": "hard",
    "expected_output": "[1 4]"
  },
  {
    "id": 143,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Remove consecutive duplicates from a 1D array (keep first of each run) (★★★)\nPrint the result.",
    "answer_code": "a = np.array([1,1,2,2,2,3,1,1,4])\nmask = np.r_[True, a[1:] != a[:-1]]\nout = a[mask]\nprint(out)",
    "difficulty_score": 82,
    "difficulty_label": "hard",
    "expected_output": "[1 2 3 1 4]"
  },
  {
    "id": 144,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Compute row-wise dot products between a 2D array and a vector without loops (★★★)\nPrint the result.",
    "answer_code": "Z = np.random.rand(6, 5)\nv = np.random.rand(5)\ndots = Z @ v\nprint(dots)",
    "difficulty_score": 82,
    "difficulty_label": "hard",
    "expected_output": "[1.97195793 1.65927772 2.54998545 1.75031846 1.9040491  1.47574759]"
  },
  {
    "id": 145,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Find indices of strict local maxima in a 1D array (exclude endpoints) (★★★)\nPrint the result.",
    "answer_code": "a = np.random.randn(20)\npeaks = np.where((a[1:-1] > a[:-2]) & (a[1:-1] > a[2:]))[0] + 1\nprint(peaks)",
    "difficulty_score": 82,
    "difficulty_label": "hard",
    "expected_output": "[ 1  3  6  9 13 15 17]"
  },
  {
    "id": 146,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Interleave two 1D arrays A and B elementwise: [a0,b0,a1,b1,...] (★★★)\nPrint the result.",
    "answer_code": "A = np.arange(5)\nB = 10 + np.arange(5)\nC = np.empty(A.size + B.size, dtype=A.dtype)\nC[0::2] = A\nC[1::2] = B\nprint(C)",
    "difficulty_score": 82,
    "difficulty_label": "hard",
    "expected_output": "[ 0 10  1 11  2 12  3 13  4 14]"
  },
  {
    "id": 147,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Winsorize a 1D array by clipping to its 5th and 95th percentiles (★★★)\nPrint the result.",
    "answer_code": "Z = np.random.randn(1000)\nlo, hi = np.percentile(Z, [5, 95])\nZ_wins = np.clip(Z, lo, hi)\nprint(Z_wins.min(), Z_wins.max())",
    "difficulty_score": 82,
    "difficulty_label": "hard",
    "expected_output": "-1.4549729742092148 1.6323986775053554"
  },
  {
    "id": 148,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Get first occurrence indices of each unique value in a 1D array, preserving input order (★★★)\nPrint the result.",
    "answer_code": "a = np.random.randint(0, 10, 20)\n_, idx = np.unique(a, return_index=True)\nidx_sorted = np.sort(idx)\nprint(idx_sorted)",
    "difficulty_score": 82,
    "difficulty_label": "hard",
    "expected_output": "[ 0  1  2  3  4  5  9 12 13]"
  },
  {
    "id": 149,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Compute the k-th order discrete difference of a 1D array (★★★)\nPrint the result.",
    "answer_code": "a = np.arange(10)\nk = 3\nd = np.diff(a, n=k)\nprint(d)",
    "difficulty_score": 82,
    "difficulty_label": "hard",
    "expected_output": "[0 0 0 0 0 0 0]"
  },
  {
    "id": 150,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "One-hot encode a label vector y with C classes using array operations (★★★)\nPrint the result.",
    "answer_code": "y = np.array([0,2,1,2,0])\nC = y.max() + 1\nI = np.eye(C, dtype=int)\none_hot = I[y]\nprint(one_hot)",
    "difficulty_score": 82,
    "difficulty_label": "hard",
    "expected_output": "[[1 0 0]\n [0 0 1]\n [0 1 0]\n [0 0 1]\n [1 0 0]]"
  },
  {
    "id": 151,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Consider an array of dimension (5,5,3), how to multiply it by an array with dimensions (5,5)? (★★★)\nPrint the result.",
    "answer_code": "A = np.ones((5,5,3))\nB = 2*np.ones((5,5))\nprint(A * B[:,:,None])",
    "difficulty_score": 82,
    "difficulty_label": "hard",
    "expected_output": "[[[2. 2. 2.]\n  [2. 2. 2.]\n  [2. 2. 2.]\n  [2. 2. 2.]\n  [2. 2. 2.]]\n\n [[2. 2. 2.]\n  [2. 2. 2.]\n  [2. 2. 2.]\n  [2. 2. 2.]\n  [2. 2. 2.]]\n\n [[2. 2. 2.]\n  [2. 2. 2.]\n  [2. 2. 2.]\n  [2. 2. 2.]\n  [2. 2. 2.]]\n\n [[2. 2. 2.]\n  [2. 2. 2.]\n  [2. 2. 2.]\n  [2. 2. 2.]\n  [2. 2. 2.]]\n\n [[2. 2. 2.]\n  [2. 2. 2.]\n  [2. 2. 2.]\n  [2. 2. 2.]\n  [2. 2. 2.]]]"
  },
  {
    "id": 152,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Compute a cumulative maximum along axis=1 for a 2D array (★★★)\nPrint the result.",
    "answer_code": "Z = np.random.randint(0, 100, (4, 7))\ncummax = np.maximum.accumulate(Z, axis=1)\nprint(cummax)",
    "difficulty_score": 83,
    "difficulty_label": "hard",
    "expected_output": "[[15 46 46 46 72 72 72]\n [ 2  8 89 89 89 89 89]\n [20 57 57 57 57 57 97]\n [96 97 97 97 97 97 97]]"
  },
  {
    "id": 153,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Normalize each row of a 2D array to unit L2 norm (★★★)\nPrint the result.",
    "answer_code": "Z = np.random.rand(5, 4)\nnorms = np.linalg.norm(Z, axis=1, keepdims=True)\nZ_unit = np.divide(Z, norms, out=np.zeros_like(Z), where=norms!=0)\nprint(Z_unit)",
    "difficulty_score": 84,
    "difficulty_label": "hard",
    "expected_output": "[[0.63455023 0.40523623 0.48119577 0.44897688]\n [0.33535763 0.01059808 0.10125842 0.93657337]\n [0.44127614 0.66514376 0.60029569 0.05004233]\n [0.4815804  0.26723269 0.63788148 0.53830682]\n [0.33822481 0.66412228 0.58741397 0.315421  ]]"
  },
  {
    "id": 154,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Z-score each column and clip values to [-3, 3] (★★★)\nPrint the result.",
    "answer_code": "Z = np.random.randn(100, 5)\nmu = Z.mean(axis=0, keepdims=True)\nsd = Z.std(axis=0, ddof=0, keepdims=True)\nZz = (Z - mu) / np.where(sd==0, 1, sd)\nZc = np.clip(Zz, -3, 3)\nprint(Zc.min(), Zc.max())",
    "difficulty_score": 84,
    "difficulty_label": "hard",
    "expected_output": "-3.0 2.9597301783501373"
  },
  {
    "id": 155,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Run-length decode given values and counts to reconstruct the original array (★★★)\nPrint the result.",
    "answer_code": "values = np.array([1, 3, 2, 2])\ncounts = np.array([2, 1, 3, 2])\ndecoded = np.repeat(values, counts)\nprint(decoded)",
    "difficulty_score": 84,
    "difficulty_label": "hard",
    "expected_output": "[1 1 3 2 2 2 2 2]"
  },
  {
    "id": 156,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Compute the summed-area table (integral image) of a 2D array (★★★)\nPrint the result.",
    "answer_code": "Z = np.random.randint(0, 5, (6, 7))\nI = np.cumsum(np.cumsum(Z, axis=0), axis=1)\nprint(I)",
    "difficulty_score": 84,
    "difficulty_label": "hard",
    "expected_output": "[[ 2  2  3  5  8 12 16]\n [ 3  3  6 10 14 21 29]\n [ 7 10 15 22 28 36 44]\n [ 7 13 18 25 35 47 57]\n [ 9 17 25 35 45 61 75]\n [10 21 31 42 56 74 88]]"
  },
  {
    "id": 157,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "How to create a record array from a regular array? (★★★)\nPrint the result.",
    "answer_code": "Z = np.array([(\"Hello\", 2.5, 3),\n              (\"World\", 3.6, 2)])\nR = np.core.records.fromarrays(Z.T,\n                               names='col1, col2, col3',\n                               formats = 'S8, f8, i8')\nprint(R)",
    "difficulty_score": 84,
    "difficulty_label": "hard",
    "expected_output": "[(b'Hello', 2.5, 3) (b'World', 3.6, 2)]"
  },
  {
    "id": 158,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Count the number of distinct values per row of an integer matrix (★★★)\nPrint the result.",
    "answer_code": "Z = np.random.randint(0, 6, (5, 8))\ncounts = np.apply_along_axis(lambda r: np.unique(r).size, 1, Z)\nprint(counts)",
    "difficulty_score": 84,
    "difficulty_label": "hard",
    "expected_output": "[5 4 5 5 6]"
  },
  {
    "id": 159,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Consider the vector [1, 2, 3, 4, 5], how to build a new vector with 3 consecutive zeros interleaved between each value? (★★★)\nPrint the result.",
    "answer_code": "# Author: Warren Weckesser\n\nZ = np.array([1,2,3,4,5])\nnz = 3\nZ0 = np.zeros(len(Z) + (len(Z)-1)*(nz))\nZ0[::nz+1] = Z\nprint(Z0)",
    "difficulty_score": 84,
    "difficulty_label": "hard",
    "expected_output": "[1. 0. 0. 0. 2. 0. 0. 0. 3. 0. 0. 0. 4. 0. 0. 0. 5.]"
  },
  {
    "id": 160,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Construct a lower-triangular matrix whose i-th row contains the first i+1 elements of v (★★★)\nPrint the result.",
    "answer_code": "v = np.arange(1, 6)\nn = v.size\nL = np.tril(np.tile(v, (n,1)))\nprint(L)",
    "difficulty_score": 84,
    "difficulty_label": "hard",
    "expected_output": "[[1 0 0 0 0]\n [1 2 0 0 0]\n [1 2 3 0 0]\n [1 2 3 4 0]\n [1 2 3 4 5]]"
  },
  {
    "id": 161,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "How to negate a boolean, or to change the sign of a float inplace? (★★★)\nPrint the result.",
    "answer_code": "# Author: Nathaniel J. Smith\n\nZ = np.random.randint(0,2,100)\nnp.logical_not(Z, out=Z)\n\nZ = np.random.uniform(-1.0,1.0,100)\nnp.negative(Z, out=Z)",
    "difficulty_score": 84,
    "difficulty_label": "hard",
    "expected_output": ""
  },
  {
    "id": 162,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Normalize each row of a 2D array so rows sum to 1 (avoid division by zero) (★★★)\nPrint the result.",
    "answer_code": "Z = np.random.rand(5, 3)\nrow_sums = Z.sum(axis=1, keepdims=True)\nZ_norm = np.divide(Z, row_sums, out=np.zeros_like(Z), where=row_sums!=0)\nprint(Z_norm)",
    "difficulty_score": 84,
    "difficulty_label": "hard",
    "expected_output": "[[0.46023749 0.00790967 0.53185284]\n [0.5355077  0.07378921 0.39070308]\n [0.39494427 0.22061054 0.38444519]\n [0.3723624  0.2907398  0.3368978 ]\n [0.35834705 0.15279255 0.48886041]]"
  },
  {
    "id": 163,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Find rows of a 2D array that are strictly increasing (★★★)\nPrint the result.",
    "answer_code": "Z = np.random.randint(0, 10, (8, 5))\nmask = np.all(np.diff(Z, axis=1) > 0, axis=1)\nprint(Z[mask])",
    "difficulty_score": 84,
    "difficulty_label": "hard",
    "expected_output": "[]"
  },
  {
    "id": 164,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Create a symmetric Toeplitz matrix from a 1D vector c (T[i,j] = c[|i-j|]) (★★★)\nPrint the result.",
    "answer_code": "c = np.arange(6)\ni = np.arange(c.size)[:, None]\nj = np.arange(c.size)[None, :]\nT = c[np.abs(i - j)]\nprint(T)",
    "difficulty_score": 85,
    "difficulty_label": "hard",
    "expected_output": "[[0 1 2 3 4 5]\n [1 0 1 2 3 4]\n [2 1 0 1 2 3]\n [3 2 1 0 1 2]\n [4 3 2 1 0 1]\n [5 4 3 2 1 0]]"
  },
  {
    "id": 165,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Build an undirected adjacency matrix from an integer edge list (0-indexed) (★★★)\nPrint the result.",
    "answer_code": "n = 6\nedges = np.array([[0,1],[0,2],[3,5],[2,5]])\nA = np.zeros((n,n), dtype=int)\nA[edges[:,0], edges[:,1]] = 1\nA[edges[:,1], edges[:,0]] = 1\nprint(A)",
    "difficulty_score": 86,
    "difficulty_label": "hard",
    "expected_output": "[[0 1 1 0 0 0]\n [1 0 0 0 0 0]\n [1 0 0 0 0 1]\n [0 0 0 0 0 1]\n [0 0 0 0 0 0]\n [0 0 1 1 0 0]]"
  },
  {
    "id": 166,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "How to compute averages using a sliding window over an array? (★★★)\nPrint the result.",
    "answer_code": "# Author: Jaime Fernández del Río\n\ndef moving_average(a, n=3) :\n    ret = np.cumsum(a, dtype=float)\n    ret[n:] = ret[n:] - ret[:-n]\n    return ret[n - 1:] / n\nZ = np.arange(20)\nprint(moving_average(Z, n=3))\n\n# Author: Jeff Luo (@Jeff1999)\n# make sure your NumPy >= 1.20.0\n\nfrom numpy.lib.stride_tricks import sliding_window_view\n\nZ = np.arange(20)\nprint(sliding_window_view(Z, window_shape=3).mean(axis=-1))",
    "difficulty_score": 86,
    "difficulty_label": "hard",
    "expected_output": "[ 1.  2.  3.  4.  5.  6.  7.  8.  9. 10. 11. 12. 13. 14. 15. 16. 17. 18.]\n[ 1.  2.  3.  4.  5.  6.  7.  8.  9. 10. 11. 12. 13. 14. 15. 16. 17. 18.]"
  },
  {
    "id": 167,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Extract all the contiguous 3x3 blocks from a random 10x10 matrix (★★★)\nPrint the result.",
    "answer_code": "# Author: Chris Barker\n\nZ = np.random.randint(0,5,(10,10))\nn = 3\ni = 1 + (Z.shape[0]-3)\nj = 1 + (Z.shape[1]-3)\nC = stride_tricks.as_strided(Z, shape=(i, j, n, n), strides=Z.strides + Z.strides)\nprint(C)\n\n# Author: Jeff Luo (@Jeff1999)\n\nZ = np.random.randint(0,5,(10,10))\nprint(sliding_window_view(Z, window_shape=(3, 3)))",
    "difficulty_score": 86,
    "difficulty_label": "hard",
    "expected_output": "[ERROR] Traceback (most recent call last):\n  File \"<string>\", line 8, in <module>\nNameError: name 'stride_tricks' is not defined"
  },
  {
    "id": 168,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Row-wise argmax with tie-breaking by last occurrence (★★★)\nPrint the result.",
    "answer_code": "Z = np.random.randint(0, 9, (4, 8))\n# use argmax on reversed view, then convert index\nrev = Z[:, ::-1]\nidx_rev = rev.argmax(axis=1)\nidx = Z.shape[1] - 1 - idx_rev\nprint(idx)",
    "difficulty_score": 86,
    "difficulty_label": "hard",
    "expected_output": "[7 6 3 0]"
  },
  {
    "id": 169,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Compute cosine similarity matrix between row vectors of X (★★★)\nPrint the result.",
    "answer_code": "X = np.random.rand(6, 5)\nXn = X / np.linalg.norm(X, axis=1, keepdims=True)\nS = Xn @ Xn.T\nprint(S)",
    "difficulty_score": 86,
    "difficulty_label": "hard",
    "expected_output": "[[1.         0.80711555 0.93078138 0.77111694 0.54029131 0.57408377]\n [0.80711555 1.         0.94936222 0.84387821 0.63333035 0.82541215]\n [0.93078138 0.94936222 1.         0.79706433 0.50331774 0.71177219]\n [0.77111694 0.84387821 0.79706433 1.         0.79021235 0.91442022]\n [0.54029131 0.63333035 0.50331774 0.79021235 1.         0.68136092]\n [0.57408377 0.82541215 0.71177219 0.91442022 0.68136092 1.        ]]"
  },
  {
    "id": 170,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Replace NaNs in each column with the column mean (★★★)\nPrint the result.",
    "answer_code": "Z = np.random.randn(6, 4)\nZ[np.random.rand(*Z.shape) < 0.2] = np.nan\ncol_means = np.nanmean(Z, axis=0, keepdims=True)\ninds = np.where(np.isnan(Z))\nZ[inds] = np.take(col_means, inds[1])\nprint(Z)",
    "difficulty_score": 86,
    "difficulty_label": "hard",
    "expected_output": "[[ 0.92821132 -1.83963087  0.12356746 -0.55141404]\n [-0.7066612   0.69027074  0.66444057  0.17103801]\n [-1.42796954 -1.83899556  0.11414011 -0.52026126]\n [ 0.48156796 -1.50226676  0.11414011 -0.10020617]\n [ 0.53257051 -0.34731895 -0.6347048   0.05417213]\n [ 0.35098503 -0.09033296  0.30325719 -0.18933427]]"
  },
  {
    "id": 171,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Given an arbitrary number of vectors, build the cartesian product (every combination of every item) (★★★)\nPrint the result.",
    "answer_code": "# Author: Stefan Van der Walt\n\ndef cartesian(arrays):\n    arrays = [np.asarray(a) for a in arrays]\n    shape = (len(x) for x in arrays)\n\n    ix = np.indices(shape, dtype=int)\n    ix = ix.reshape(len(arrays), -1).T\n\n    for n, arr in enumerate(arrays):\n        ix[:, n] = arrays[n][ix[:, n]]\n\n    return ix\n\nprint (cartesian(([1, 2, 3], [4, 5], [6, 7])))",
    "difficulty_score": 86,
    "difficulty_label": "hard",
    "expected_output": "[[1 4 6]\n [1 4 7]\n [1 5 6]\n [1 5 7]\n [2 4 6]\n [2 4 7]\n [2 5 6]\n [2 5 7]\n [3 4 6]\n [3 4 7]\n [3 5 6]\n [3 5 7]]"
  },
  {
    "id": 172,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Compute the mode along axis=1 of a small integer matrix using bincount (tie-break by smallest value) (★★★)\nPrint the result.",
    "answer_code": "Z = np.random.randint(0, 5, (6, 7))\nm = Z.max() + 1\nmode = np.apply_along_axis(lambda r: np.bincount(r, minlength=m).argmax(), 1, Z)\nprint(mode)",
    "difficulty_score": 86,
    "difficulty_label": "hard",
    "expected_output": "[2 3 4 1 0 2]"
  },
  {
    "id": 173,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Solve Ax = b for multiple right-hand sides b (columns) at once (★★★)\nPrint the result.",
    "answer_code": "A = np.random.randn(5, 5)\nb = np.random.randn(5, 3)\nx = np.linalg.solve(A, b)\nprint(x)",
    "difficulty_score": 86,
    "difficulty_label": "hard",
    "expected_output": "[[-0.61263028  0.61163874  0.1301234 ]\n [ 0.00810086  1.29363193  0.15139921]\n [ 2.75483703 -2.84042273  0.26377655]\n [-2.80720085  2.65293911 -0.80116749]\n [-1.34292333  3.68290416 -1.01076944]]"
  },
  {
    "id": 174,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Compute the row-wise median using np.partition (odd number of columns) (★★★)\nPrint the result.",
    "answer_code": "Z = np.random.rand(7, 9)\nm = Z.shape[1]//2\npart = np.partition(Z, m, axis=1)\nmed = part[:, m]\nprint(med)",
    "difficulty_score": 86,
    "difficulty_label": "hard",
    "expected_output": "[0.61210779 0.52380325 0.68382924 0.66444396 0.88770145 0.3531581\n 0.42496453]"
  },
  {
    "id": 175,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Consider a one-dimensional array Z, build a two-dimensional array whose first row is (Z[0],Z[1],Z[2]) and each subsequent row is  shifted by 1 (last row should be (Z[-3],Z[-2],Z[-1]) (★★★)\nPrint the result.",
    "answer_code": "# Author: Joe Kington / Erik Rigtorp\nfrom numpy.lib import stride_tricks\n\ndef rolling(a, window):\n    shape = (a.size - window + 1, window)\n    strides = (a.strides[0], a.strides[0])\n    return stride_tricks.as_strided(a, shape=shape, strides=strides)\nZ = rolling(np.arange(10), 3)\nprint(Z)\n\n# Author: Jeff Luo (@Jeff1999)\n\nZ = np.arange(10)\nprint(sliding_window_view(Z, window_shape=3))",
    "difficulty_score": 86,
    "difficulty_label": "hard",
    "expected_output": "[ERROR] Traceback (most recent call last):\n  File \"<string>\", line 15, in <module>\nNameError: name 'sliding_window_view' is not defined"
  },
  {
    "id": 176,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Extract all 2x4 sliding windows from a 2D array and compute their sums (★★★)\nPrint the result.",
    "answer_code": "from numpy.lib.stride_tricks import sliding_window_view\nZ = np.arange(8*10).reshape(8, 10)\nW = sliding_window_view(Z, (2, 4))  # shape: (7, 7, 2, 4)\nS = W.sum(axis=(-2, -1))\nprint(S)",
    "difficulty_score": 86,
    "difficulty_label": "hard",
    "expected_output": "[[ 52  60  68  76  84  92 100]\n [132 140 148 156 164 172 180]\n [212 220 228 236 244 252 260]\n [292 300 308 316 324 332 340]\n [372 380 388 396 404 412 420]\n [452 460 468 476 484 492 500]\n [532 540 548 556 564 572 580]]"
  },
  {
    "id": 177,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Vectorized value mapping: replace values in a 1D array using a mapping dict {old:new} (★★★)\nPrint the result.",
    "answer_code": "a = np.array([1,2,3,2,1,0])\nmapping = {0:9, 1:8, 2:7}\nmax_key = max(mapping.keys())\ntable = np.arange(max_key+1)\nfor k,v in mapping.items():\n    table[k] = v\nout = table[a]\nprint(out)",
    "difficulty_score": 86,
    "difficulty_label": "hard",
    "expected_output": "[ERROR] Traceback (most recent call last):\n  File \"<string>\", line 8, in <module>\nIndexError: index 3 is out of bounds for axis 0 with size 3"
  },
  {
    "id": 178,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Consider an array Z = [1,2,3,4,5,6,7,8,9,10,11,12,13,14], how to generate an array R = [[1,2,3,4], [2,3,4,5], [3,4,5,6], ..., [11,12,13,14]]? (★★★)\nPrint the result.",
    "answer_code": "# Author: Stefan van der Walt\n\nZ = np.arange(1,15,dtype=np.uint32)\nR = stride_tricks.as_strided(Z,(11,4),(4,4))\nprint(R)\n\n# Author: Jeff Luo (@Jeff1999)\n\nZ = np.arange(1, 15, dtype=np.uint32)\nprint(sliding_window_view(Z, window_shape=4))",
    "difficulty_score": 87,
    "difficulty_label": "hard",
    "expected_output": "[ERROR] Traceback (most recent call last):\n  File \"<string>\", line 5, in <module>\nNameError: name 'stride_tricks' is not defined"
  },
  {
    "id": 179,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Consider 2 sets of points P0,P1 describing lines (2d) and a point p, how to compute distance from p to each line i (P0[i],P1[i])? (★★★)\nPrint the result.",
    "answer_code": "P0 = np.random.uniform(-10,10,(10,2))\nP1 = np.random.uniform(-10,10,(10,2))\np  = np.random.uniform(-10,10,( 1,2))\n\ndef distance_faster(P0,P1,p):\n    #Author: Hemanth Pasupuleti\n    #Reference: https://mathworld.wolfram.com/Point-LineDistance2-Dimensional.html\n\n    v = P1- P0 \n    v[:,[0,1]] = v[:,[1,0]]\n    v[:,1]*=-1 \n    norm = np.linalg.norm(v,axis=1)   \n    r = P0 - p\n    d = np.abs(np.einsum(\"ij,ij->i\",r,v)) / norm \n\n    return d\n\nprint(distance_faster(P0, P1, p))\n\n##--------------- OR ---------------##\ndef distance_slower(P0, P1, p):\n    T = P1 - P0\n    L = (T**2).sum(axis=1)\n    U = -((P0[:,0]-p[...,0])*T[:,0] + (P0[:,1]-p[...,1])*T[:,1]) / L\n    U = U.reshape(len(U),1)\n    D = P0 + U*T - p\n    return np.sqrt((D**2).sum(axis=1))\n\nprint(distance_slower(P0, P1, p))",
    "difficulty_score": 88,
    "difficulty_label": "hard",
    "expected_output": "[ 5.21264871  0.91821451 11.97305104 10.32796073  4.15130569 10.12362124\n  4.91114794  2.40977618  7.81475319 14.88610514]\n[ 5.21264871  0.91821451 11.97305104 10.32796073  4.15130569 10.12362124\n  4.91114794  2.40977618  7.81475319 14.88610514]"
  },
  {
    "id": 180,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Create a band matrix with main diagonal d0 and first upper/lower diagonals d1 using vectorized assignment (★★★)\nPrint the result.",
    "answer_code": "n = 6\nd0 = 5*np.ones(n)\nd1 = -1*np.ones(n-1)\nM = np.zeros((n,n))\nnp.fill_diagonal(M, d0)\nnp.fill_diagonal(M[:-1,1:], d1)\nnp.fill_diagonal(M[1:,:-1], d1)\nprint(M)",
    "difficulty_score": 88,
    "difficulty_label": "hard",
    "expected_output": "[[ 5. -1.  0.  0.  0.  0.]\n [-1.  5. -1.  0.  0.  0.]\n [ 0. -1.  5. -1.  0.  0.]\n [ 0.  0. -1.  5. -1.  0.]\n [ 0.  0.  0. -1.  5. -1.]\n [ 0.  0.  0.  0. -1.  5.]]"
  },
  {
    "id": 181,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Compute the pairwise Euclidean distance matrix between rows of X (n,d) without explicit Python loops (★★★)\nPrint the result.",
    "answer_code": "X = np.random.rand(6, 4)\ndiff = X[:, None, :] - X[None, :, :]\nD = np.sqrt(np.sum(diff*diff, axis=-1))\nprint(D)",
    "difficulty_score": 88,
    "difficulty_label": "hard",
    "expected_output": "[[0.         1.09438528 0.56646931 0.56897808 0.63348327 0.89125923]\n [1.09438528 0.         0.97535657 1.28860571 0.62527779 0.9975922 ]\n [0.56646931 0.97535657 0.         0.32903309 0.47350788 0.48830903]\n [0.56897808 1.28860571 0.32903309 0.         0.75203097 0.665604  ]\n [0.63348327 0.62527779 0.47350788 0.75203097 0.         0.7865064 ]\n [0.89125923 0.9975922  0.48830903 0.665604   0.7865064  0.        ]]"
  },
  {
    "id": 182,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Apply a 2D affine transform (3x3 homogeneous) to an array of 2D points (★★★)\nPrint the result.",
    "answer_code": "pts = np.random.rand(5, 2)\nT = np.array([[1.2, 0.2, 0.5],\n              [-0.1, 0.9, 0.1],\n              [0.0, 0.0, 1.0]])\nH = np.c_[pts, np.ones(len(pts))]\nout = (H @ T.T)[:, :2]\nprint(out)",
    "difficulty_score": 88,
    "difficulty_label": "hard",
    "expected_output": "[[0.79905518 0.59692083]\n [0.77948877 0.21893996]\n [1.58186217 0.79577471]\n [1.13056851 0.27376056]\n [0.92238101 0.90604277]]"
  },
  {
    "id": 183,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Replace each element by its rank within the row (1=smallest) (★★★)\nPrint the result.",
    "answer_code": "Z = np.random.rand(4, 6)\norder = np.argsort(Z, axis=1)\nranks = np.empty_like(order)\nranks[np.arange(Z.shape[0])[:, None], order] = np.arange(Z.shape[1])\nprint(ranks + 1)",
    "difficulty_score": 88,
    "difficulty_label": "hard",
    "expected_output": "[[4 2 3 6 1 5]\n [4 2 3 1 6 5]\n [5 2 6 3 1 4]\n [3 5 4 6 2 1]]"
  },
  {
    "id": 184,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Create a 2D array subclass such that Z[i,j] == Z[j,i] (★★★)\nPrint the result.",
    "answer_code": "# Author: Eric O. Lebigot\n# Note: only works for 2d array and value setting using indices\n\nclass Symetric(np.ndarray):\n    def __setitem__(self, index, value):\n        i,j = index\n        super(Symetric, self).__setitem__((i,j), value)\n        super(Symetric, self).__setitem__((j,i), value)\n\ndef symetric(Z):\n    return np.asarray(Z + Z.T - np.diag(Z.diagonal())).view(Symetric)\n\nS = symetric(np.random.randint(0,10,(5,5)))\nS[2,3] = 42\nprint(S)",
    "difficulty_score": 88,
    "difficulty_label": "hard",
    "expected_output": "[[ 5 11  3  6  8]\n [11  7  1 10  6]\n [ 3  1  2 42  8]\n [ 6 10 42  2  4]\n [ 8  6  8  4  8]]"
  },
  {
    "id": 185,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Run-length encode a 1D integer array (values and counts) without Python loops over elements (★★★)\nPrint the result.",
    "answer_code": "a = np.random.randint(0, 4, 30)\nstarts = np.r_[0, 1 + np.flatnonzero(a[1:] != a[:-1])]\nvalues = a[starts]\ncounts = np.diff(np.r_[starts, a.size])\nprint(values, counts)",
    "difficulty_score": 88,
    "difficulty_label": "hard",
    "expected_output": "[0 3 0 3 2 0 2 1 2 1 2 3 2 1 3 1 0 1 2 0 2 3 2 3] [1 1 1 2 2 2 1 1 1 1 1 2 1 1 1 1 2 2 1 1 1 1 1 1]"
  },
  {
    "id": 186,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Consider an arbitrary array, write a function that extracts a subpart with a fixed shape and centered on a given element (pad with a `fill` value when necessary) (★★★)\nPrint the result.",
    "answer_code": "# Author: Nicolas Rougier\n\nZ = np.random.randint(0,10,(10,10))\nshape = (5,5)\nfill  = 0\nposition = (1,1)\n\nR = np.ones(shape, dtype=Z.dtype)*fill\nP  = np.array(list(position)).astype(int)\nRs = np.array(list(R.shape)).astype(int)\nZs = np.array(list(Z.shape)).astype(int)\n\nR_start = np.zeros((len(shape),)).astype(int)\nR_stop  = np.array(list(shape)).astype(int)\nZ_start = (P-Rs//2)\nZ_stop  = (P+Rs//2)+Rs%2\n\nR_start = (R_start - np.minimum(Z_start,0)).tolist()\nZ_start = (np.maximum(Z_start,0)).tolist()\nR_stop = np.maximum(R_start, (R_stop - np.maximum(Z_stop-Zs,0))).tolist()\nZ_stop = (np.minimum(Z_stop,Zs)).tolist()\n\nr = tuple([slice(start,stop) for start,stop in zip(R_start,R_stop)])\nz = tuple([slice(start,stop) for start,stop in zip(Z_start,Z_stop)])\nR[r] = Z[z]\nprint(Z)\nprint(R)",
    "difficulty_score": 88,
    "difficulty_label": "hard",
    "expected_output": "[[1 1 0 2 8 6 3 5 3 5]\n [0 6 1 9 9 2 3 5 7 7]\n [0 1 9 9 0 5 6 8 9 4]\n [3 7 4 5 6 0 9 8 1 3]\n [1 9 7 1 4 4 5 9 3 4]\n [8 8 8 8 4 4 2 5 9 9]\n [7 7 3 0 7 7 0 4 5 2]\n [4 5 7 6 9 0 2 9 1 9]\n [1 9 9 0 3 8 5 5 5 3]\n [6 9 7 4 5 8 0 4 6 5]]\n[[0 0 0 0 0]\n [0 1 1 0 2]\n [0 0 6 1 9]\n [0 0 1 9 9]\n [0 3 7 4 5]]"
  },
  {
    "id": 187,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Turn each row into a binary mask of its top-2 values (1 for top-2 else 0) (★★★)\nPrint the result.",
    "answer_code": "Z = np.random.rand(5, 6)\nk = 2\nidx = np.argpartition(Z, -k, axis=1)[:, -k:]\nmask = np.zeros_like(Z, dtype=int)\nmask[np.arange(Z.shape[0])[:, None], idx] = 1\nprint(mask)",
    "difficulty_score": 88,
    "difficulty_label": "hard",
    "expected_output": "[[0 1 0 0 1 0]\n [0 0 1 0 0 1]\n [1 0 0 1 0 0]\n [1 1 0 0 0 0]\n [0 0 0 0 1 1]]"
  },
  {
    "id": 188,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Considering a path described by two vectors (X,Y), how to sample it using equidistant samples (★★★)?\nPrint the result.",
    "answer_code": "# Author: Bas Swinckels\n\nphi = np.arange(0, 10*np.pi, 0.1)\na = 1\nx = a*phi*np.cos(phi)\ny = a*phi*np.sin(phi)\n\ndr = (np.diff(x)**2 + np.diff(y)**2)**.5 # segment lengths\nr = np.zeros_like(x)\nr[1:] = np.cumsum(dr)                # integrate path\nr_int = np.linspace(0, r.max(), 200) # regular spaced path\nx_int = np.interp(r_int, r, x)       # integrate path\ny_int = np.interp(r_int, r, y)",
    "difficulty_score": 88,
    "difficulty_label": "hard",
    "expected_output": ""
  },
  {
    "id": 189,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Rotate a 2D array by 90 degrees k times without np.rot90 (★★★)\nPrint the result.",
    "answer_code": "Z = np.arange(12).reshape(3,4)\nk = 1\nrot = np.transpose(Z, (1,0))[:, ::-1]\nif k % 4 == 0:\n    R = Z\nelif k % 4 == 1:\n    R = rot\nelif k % 4 == 2:\n    R = Z[::-1, ::-1]\nelse:\n    R = np.transpose(Z[::-1, :])\nprint(R)",
    "difficulty_score": 88,
    "difficulty_label": "hard",
    "expected_output": "[[ 8  4  0]\n [ 9  5  1]\n [10  6  2]\n [11  7  3]]"
  },
  {
    "id": 190,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Compute a matrix rank (★★★)\nPrint the result.",
    "answer_code": "# Author: Stefan van der Walt\n\nZ = np.random.uniform(0,1,(10,10))\nU, S, V = np.linalg.svd(Z) # Singular Value Decomposition\nthreshold = len(S) * S.max() * np.finfo(S.dtype).eps\nrank = np.sum(S > threshold)\nprint(rank)\n\n# alternative solution:\n# Author: Jeff Luo (@Jeff1999)\n\nrank = np.linalg.matrix_rank(Z)\nprint(rank)",
    "difficulty_score": 89,
    "difficulty_label": "hard",
    "expected_output": "10\n10"
  },
  {
    "id": 191,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Compute bootstrapped 95% confidence intervals for the mean of a 1D array X (i.e., resample the elements of an array with replacement N times, compute the mean of each sample, and then compute percentiles over the means). (★★★)\nPrint the result.",
    "answer_code": "# Author: Jessica B. Hamrick\n\nX = np.random.randn(100) # random 1D array\nN = 1000 # number of bootstrap samples\nidx = np.random.randint(0, X.size, (N, X.size))\nmeans = X[idx].mean(axis=1)\nconfint = np.percentile(means, [2.5, 97.5])\nprint(confint)",
    "difficulty_score": 90,
    "difficulty_label": "hard",
    "expected_output": "[-0.1639379   0.22175557]"
  },
  {
    "id": 192,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Consider a large vector Z, compute Z to the power of 3 using 3 different methods (★★★)\nPrint the result.",
    "answer_code": "# Author: Ryan G.\n\nx = np.random.rand(int(5e7))\n\n%timeit np.power(x,3)\n%timeit x*x*x\n%timeit np.einsum('i,i,i->i',x,x,x)",
    "difficulty_score": 90,
    "difficulty_label": "hard",
    "expected_output": "[ERROR] File \"<string>\", line 6\n    %timeit np.power(x,3)\n    ^\nSyntaxError: invalid syntax"
  },
  {
    "id": 193,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "For points X (n,d), find indices of k nearest neighbors for each point (self excluded) (★★★)\nPrint the result.",
    "answer_code": "X = np.random.rand(8, 3)\ndiff = X[:, None, :] - X[None, :, :]\nD2 = np.sum(diff*diff, axis=-1)\nnp.fill_diagonal(D2, np.inf)\nk = 2\nidx = np.argpartition(D2, k, axis=1)[:, :k]\nprint(idx)",
    "difficulty_score": 90,
    "difficulty_label": "hard",
    "expected_output": "[[1 5]\n [0 5]\n [4 7]\n [1 5]\n [2 7]\n [0 1]\n [7 5]\n [0 1]]"
  },
  {
    "id": 194,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Find the indices of the top-k values per row of a 2D array using partial sorting (★★★)\nPrint the result.",
    "answer_code": "Z = np.random.rand(5, 10)\nk = 3\nidx = np.argpartition(Z, -k, axis=1)[:, -k:]\n# sort the top-k indices by actual values descending\nrows = np.arange(Z.shape[0])[:, None]\nidx_sorted = idx[rows, np.argsort(Z[rows, idx], axis=1)[:, ::-1]]\nprint(idx_sorted)",
    "difficulty_score": 90,
    "difficulty_label": "hard",
    "expected_output": "[[4 0 2]\n [2 7 6]\n [2 7 4]\n [0 6 3]\n [9 6 3]]"
  },
  {
    "id": 195,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Consider a 16x16 array, how to get the block-sum (block size is 4x4)? (★★★)\nPrint the result.",
    "answer_code": "# Author: Robert Kern\n\nZ = np.ones((16,16))\nk = 4\nS = np.add.reduceat(np.add.reduceat(Z, np.arange(0, Z.shape[0], k), axis=0),\n                                       np.arange(0, Z.shape[1], k), axis=1)\nprint(S)\n\n# alternative solution:\n# Author: Sebastian Wallkötter (@FirefoxMetzger)\n\nZ = np.ones((16,16))\nk = 4\n\nwindows = np.lib.stride_tricks.sliding_window_view(Z, (k, k))\nS = windows[::k, ::k, ...].sum(axis=(-2, -1))\n\n# alternative solution (by @Gattocrucco)\nS = Z.reshape(4, 4, 4, 4).sum((1, 3))",
    "difficulty_score": 90,
    "difficulty_label": "hard",
    "expected_output": "[[16. 16. 16. 16.]\n [16. 16. 16. 16.]\n [16. 16. 16. 16.]\n [16. 16. 16. 16.]]"
  },
  {
    "id": 196,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Implement 2D valid convolution via sliding windows and tensordot (★★★)\nPrint the result.",
    "answer_code": "from numpy.lib.stride_tricks import sliding_window_view\nX = np.arange(7*7).reshape(7,7)\nK = np.array([[1,0,-1],[1,0,-1],[1,0,-1]])\nW = sliding_window_view(X, K.shape)\nY = np.tensordot(W, K, axes=K.ndim)\nprint(Y)",
    "difficulty_score": 90,
    "difficulty_label": "hard",
    "expected_output": "[[-6 -6 -6 -6 -6]\n [-6 -6 -6 -6 -6]\n [-6 -6 -6 -6 -6]\n [-6 -6 -6 -6 -6]\n [-6 -6 -6 -6 -6]]"
  },
  {
    "id": 197,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Build a block-diagonal matrix from a list of 2D arrays without external libraries (★★★)\nPrint the result.",
    "answer_code": "arrays = [np.ones((2,3)), 2*np.ones((1,2)), 3*np.ones((3,1))]\nR = sum(a.shape[0] for a in arrays)\nC = sum(a.shape[1] for a in arrays)\nout = np.zeros((R, C))\nri = ci = 0\nfor a in arrays:\n    r, c = a.shape\n    out[ri:ri+r, ci:ci+c] = a\n    ri += r; ci += c\nprint(out)",
    "difficulty_score": 90,
    "difficulty_label": "hard",
    "expected_output": "[[1. 1. 1. 0. 0. 0.]\n [1. 1. 1. 0. 0. 0.]\n [0. 0. 0. 2. 2. 0.]\n [0. 0. 0. 0. 0. 3.]\n [0. 0. 0. 0. 0. 3.]\n [0. 0. 0. 0. 0. 3.]]"
  },
  {
    "id": 198,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Compute the Jaccard distance matrix for a binary matrix (rows are sets) (★★★)\nPrint the result.",
    "answer_code": "B = (np.random.rand(6, 8) > 0.6).astype(int)\ninter = (B[:, None, :] & B[None, :, :]).sum(-1)\nunion = (B[:, None, :] | B[None, :, :]).sum(-1)\nJ = 1 - inter / np.where(union==0, 1, union)\nprint(J)",
    "difficulty_score": 90,
    "difficulty_label": "hard",
    "expected_output": "[[0.         0.75       0.4        0.75       1.         1.        ]\n [0.75       0.         0.83333333 1.         0.66666667 0.83333333]\n [0.4        0.83333333 0.         0.83333333 1.         0.75      ]\n [0.75       1.         0.83333333 0.         0.66666667 0.83333333]\n [1.         0.66666667 1.         0.66666667 0.         0.6       ]\n [1.         0.83333333 0.75       0.83333333 0.6        0.        ]]"
  },
  {
    "id": 199,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Compute the Khatri-Rao product (column-wise Kronecker) of two matrices with the same number of columns (★★★)\nPrint the result.",
    "answer_code": "A = np.array([[1,2],[3,4],[5,6]])\nB = np.array([[7,8],[9,10]])\n# result has shape (A_rows*B_rows, n_cols)\nKR = (A[:, None, :] * B[None, :, :]).reshape(A.shape[0]*B.shape[0], A.shape[1])\nprint(KR)",
    "difficulty_score": 90,
    "difficulty_label": "hard",
    "expected_output": "[[ 7 16]\n [ 9 20]\n [21 32]\n [27 40]\n [35 48]\n [45 60]]"
  },
  {
    "id": 200,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Sample categories according to row-wise probability matrix P (rows sum to 1) (★★★)\nPrint the result.",
    "answer_code": "P = np.random.dirichlet(np.ones(5), size=10)\nu = np.random.rand(P.shape[0], 1)\ncs = np.cumsum(P, axis=1)\nsamples = (u < cs).argmax(axis=1)\nprint(samples)",
    "difficulty_score": 90,
    "difficulty_label": "hard",
    "expected_output": "[0 3 4 4 2 0 0 2 1 4]"
  },
  {
    "id": 201,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Consider 2 sets of points P0,P1 describing lines (2d) and a set of points P, how to compute distance from each point j (P[j]) to each line i (P0[i],P1[i])? (★★★)\nPrint the result.",
    "answer_code": "# Author: Italmassov Kuanysh\n\n# based on distance function from previous question\nP0 = np.random.uniform(-10, 10, (10,2))\nP1 = np.random.uniform(-10,10,(10,2))\np = np.random.uniform(-10, 10, (10,2))\nprint(np.array([distance(P0,P1,p_i) for p_i in p]))\n\n# Author: Yang Wu (Broadcasting)\ndef distance_points_to_lines(p: np.ndarray, p_1: np.ndarray, p_2: np.ndarray) -> np.ndarray:\n    x_0, y_0 = p.T  # Shape -> (n points, )\n    x_1, y_1 = p_1.T  # Shape -> (n lines, )\n    x_2, y_2 = p_2.T  # Shape -> (n lines, )\n\n    # Displacement vector coordinates from p_1 -> p_2\n    dx = x_2 - x_1  # Shape -> (n lines, )\n    dy = y_2 - y_1  # Shape -> (n lines, )\n\n    # The 'cross product' term\n    cross_term = x_2 * y_1 - y_2 * x_1  # Shape -> (n lines, )\n\n    # Broadcast x_0, y_0 (n points, 1) and dx, dy, cross_term (1, n lines) -> (n points, n lines)\n    numerator = np.abs(\n        dy[np.newaxis, :] * x_0[:, np.newaxis]\n        - dx[np.newaxis, :] * y_0[:, np.newaxis]\n        + cross_term[np.newaxis, :]\n    )\n    denominator = np.sqrt(dx**2 + dy**2)  # Shape -> (n lines, )\n\n    # Shape (n points, n lines) / (1, n_lines) -> (n points, n lines)\n    return numerator / denominator[np.newaxis, :]\n\ndistance_points_to_lines(p, P0, P1)",
    "difficulty_score": 90,
    "difficulty_label": "hard",
    "expected_output": "[ERROR] Traceback (most recent call last):\n  File \"<string>\", line 8, in <module>\nNameError: name 'distance' is not defined. Did you mean: 'isinstance'?"
  },
  {
    "id": 202,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Considering a 10x3 matrix, extract rows with unequal values (e.g. [2,2,3]) (★★★)\nPrint the result.",
    "answer_code": "# Author: Robert Kern\n\nZ = np.random.randint(0,5,(10,3))\nprint(Z)\n# solution for arrays of all dtypes (including string arrays and record arrays)\nE = np.all(Z[:,1:] == Z[:,:-1], axis=1)\nU = Z[~E]\nprint(U)\n# soluiton for numerical arrays only, will work for any number of columns in Z\nU = Z[Z.max(axis=1) != Z.min(axis=1),:]\nprint(U)",
    "difficulty_score": 90,
    "difficulty_label": "hard",
    "expected_output": "[[0 3 2]\n [3 3 0]\n [0 0 1]\n [0 0 0]\n [0 3 4]\n [2 3 4]\n [0 1 2]\n [0 4 2]\n [0 0 1]\n [4 4 0]]\n[[0 3 2]\n [3 3 0]\n [0 0 1]\n [0 3 4]\n [2 3 4]\n [0 1 2]\n [0 4 2]\n [0 0 1]\n [4 4 0]]\n[[0 3 2]\n [3 3 0]\n [0 0 1]\n [0 3 4]\n [2 3 4]\n [0 1 2]\n [0 4 2]\n [0 0 1]\n [4 4 0]]"
  },
  {
    "id": 203,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Considering 2 vectors A & B, write the einsum equivalent of inner, outer, sum, and mul function (★★★)\nPrint the result.",
    "answer_code": "# Author: Alex Riley\n# Make sure to read: http://ajcr.net/Basic-guide-to-einsum/\n\nA = np.random.uniform(0,1,10)\nB = np.random.uniform(0,1,10)\n\nnp.einsum('i->', A)       # np.sum(A)\nnp.einsum('i,i->i', A, B) # A * B\nnp.einsum('i,i', A, B)    # np.inner(A, B)\nnp.einsum('i,j->ij', A, B)    # np.outer(A, B)",
    "difficulty_score": 91,
    "difficulty_label": "hard",
    "expected_output": ""
  },
  {
    "id": 204,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Convert a vector of ints into a matrix binary representation (★★★)\nPrint the result.",
    "answer_code": "# Author: Warren Weckesser\n\nI = np.array([0, 1, 2, 3, 15, 16, 32, 64, 128])\nB = ((I.reshape(-1,1) & (2**np.arange(8))) != 0).astype(int)\nprint(B[:,::-1])\n\n# Author: Daniel T. McDonald\n\nI = np.array([0, 1, 2, 3, 15, 16, 32, 64, 128], dtype=np.uint8)\nprint(np.unpackbits(I[:, np.newaxis], axis=1))",
    "difficulty_score": 92,
    "difficulty_label": "hard",
    "expected_output": "[[0 0 0 0 0 0 0 0]\n [0 0 0 0 0 0 0 1]\n [0 0 0 0 0 0 1 0]\n [0 0 0 0 0 0 1 1]\n [0 0 0 0 1 1 1 1]\n [0 0 0 1 0 0 0 0]\n [0 0 1 0 0 0 0 0]\n [0 1 0 0 0 0 0 0]\n [1 0 0 0 0 0 0 0]]\n[[0 0 0 0 0 0 0 0]\n [0 0 0 0 0 0 0 1]\n [0 0 0 0 0 0 1 0]\n [0 0 0 0 0 0 1 1]\n [0 0 0 0 1 1 1 1]\n [0 0 0 1 0 0 0 0]\n [0 0 1 0 0 0 0 0]\n [0 1 0 0 0 0 0 0]\n [1 0 0 0 0 0 0 0]]"
  },
  {
    "id": 205,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Given a two dimensional array, how to extract unique rows? (★★★)\nPrint the result.",
    "answer_code": "# Author: Jaime Fernández del Río\n\nZ = np.random.randint(0,2,(6,3))\nT = np.ascontiguousarray(Z).view(np.dtype((np.void, Z.dtype.itemsize * Z.shape[1])))\n_, idx = np.unique(T, return_index=True)\nuZ = Z[idx]\nprint(uZ)\n\n# Author: Andreas Kouzelis\n# NumPy >= 1.13\nuZ = np.unique(Z, axis=0)\nprint(uZ)",
    "difficulty_score": 92,
    "difficulty_label": "hard",
    "expected_output": "[[0 0 0]\n [0 1 0]\n [1 0 0]\n [1 0 1]\n [1 1 1]]\n[[0 0 0]\n [0 1 0]\n [1 0 0]\n [1 0 1]\n [1 1 1]]"
  },
  {
    "id": 206,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "How to get the n largest values of an array (★★★)\nPrint the result.",
    "answer_code": "Z = np.arange(10000)\nnp.random.shuffle(Z)\nn = 5\n\n# Slow\nprint (Z[np.argsort(Z)[-n:]])\n\n# Fast\nprint (Z[np.argpartition(-Z,n)[:n]])",
    "difficulty_score": 92,
    "difficulty_label": "hard",
    "expected_output": "[9995 9996 9997 9998 9999]\n[9999 9998 9997 9996 9995]"
  },
  {
    "id": 207,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Consider a set of 10 triplets describing 10 triangles (with shared vertices), find the set of unique line segments composing all the  triangles (★★★)\nPrint the result.",
    "answer_code": "# Author: Nicolas P. Rougier\n\nfaces = np.random.randint(0,100,(10,3))\nF = np.roll(faces.repeat(2,axis=1),-1,axis=1)\nF = F.reshape(len(F)*3,2)\nF = np.sort(F,axis=1)\nG = F.view( dtype=[('p0',F.dtype),('p1',F.dtype)] )\nG = np.unique(G)\nprint(G)",
    "difficulty_score": 93,
    "difficulty_label": "hard",
    "expected_output": "[( 1,  8) ( 1, 52) ( 5, 16) ( 5, 34) ( 7, 75) ( 7, 83) ( 8, 52) ( 9, 31)\n ( 9, 69) (15, 20) (15, 48) (16, 34) (16, 79) (16, 90) (20, 48) (23, 39)\n (23, 59) (31, 69) (35, 80) (35, 94) (36, 57) (36, 87) (39, 59) (52, 56)\n (52, 75) (56, 75) (57, 87) (75, 83) (79, 90) (80, 94)]"
  },
  {
    "id": 208,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Consider a set of p matrices with shape (n,n) and a set of p vectors with shape (n,1). How to compute the sum of of the p matrix products at once? (result has shape (n,1)) (★★★)\nPrint the result.",
    "answer_code": "# Author: Stefan van der Walt\n\np, n = 10, 20\nM = np.ones((p,n,n))\nV = np.ones((p,n,1))\nS = np.tensordot(M, V, axes=[[0, 2], [0, 1]])\nprint(S)\n\n# It works, because:\n# M is (p,n,n)\n# V is (p,n,1)\n# Thus, summing over the paired axes 0 and 0 (of M and V independently),\n# and 2 and 1, to remain with a (n,1) vector.",
    "difficulty_score": 94,
    "difficulty_label": "hard",
    "expected_output": "[[200.]\n [200.]\n [200.]\n [200.]\n [200.]\n [200.]\n [200.]\n [200.]\n [200.]\n [200.]\n [200.]\n [200.]\n [200.]\n [200.]\n [200.]\n [200.]\n [200.]\n [200.]\n [200.]\n [200.]]"
  },
  {
    "id": 209,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "How to implement the Game of Life using numpy arrays? (★★★)\nPrint the result.",
    "answer_code": "# Author: Nicolas Rougier\n\ndef iterate(Z):\n    # Count neighbours\n    N = (Z[0:-2,0:-2] + Z[0:-2,1:-1] + Z[0:-2,2:] +\n         Z[1:-1,0:-2]                + Z[1:-1,2:] +\n         Z[2:  ,0:-2] + Z[2:  ,1:-1] + Z[2:  ,2:])\n\n    # Apply rules\n    birth = (N==3) & (Z[1:-1,1:-1]==0)\n    survive = ((N==2) | (N==3)) & (Z[1:-1,1:-1]==1)\n    Z[...] = 0\n    Z[1:-1,1:-1][birth | survive] = 1\n    return Z\n\nZ = np.random.randint(0,2,(50,50))\nfor i in range(100): Z = iterate(Z)\nprint(Z)",
    "difficulty_score": 95,
    "difficulty_label": "hard",
    "expected_output": "[[0 0 0 ... 0 0 0]\n [0 0 0 ... 0 0 0]\n [0 1 1 ... 0 0 0]\n ...\n [0 0 0 ... 0 0 0]\n [0 0 0 ... 0 0 0]\n [0 0 0 ... 0 0 0]]"
  },
  {
    "id": 210,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Given an integer n and a 2D array X, select from X the rows which can be interpreted as draws from a multinomial distribution with n degrees, i.e., the rows which only contain integers and which sum to n. (★★★)\nPrint the result.",
    "answer_code": "# Author: Evgeni Burovski\n\nX = np.asarray([[1.0, 0.0, 3.0, 8.0],\n                [2.0, 0.0, 1.0, 1.0],\n                [1.5, 2.5, 1.0, 0.0]])\nn = 4\nM = np.logical_and.reduce(np.mod(X, 1) == 0, axis=-1)\nM &= (X.sum(axis=-1) == n)\nprint(X[M])",
    "difficulty_score": 97,
    "difficulty_label": "hard",
    "expected_output": "[[2. 0. 1. 1.]]"
  },
  {
    "id": 211,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Consider two arrays A and B of shape (8,3) and (2,2). How to find rows of A that contain elements of each row of B regardless of the order of the elements in B? (★★★)\nPrint the result.",
    "answer_code": "# Author: Gabe Schwartz\n\nA = np.random.randint(0,5,(8,3))\nB = np.random.randint(0,5,(2,2))\n\nC = (A[..., np.newaxis, np.newaxis] == B)\nrows = np.where(C.any((3,1)).all(1))[0]\nprint(rows)",
    "difficulty_score": 100,
    "difficulty_label": "hard",
    "expected_output": "[4 5]"
  },
  {
    "id": 212,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create a 3x3 matrix filled with True (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.ones((3,3), dtype=bool); print(Z)",
    "difficulty_score": 12,
    "difficulty_label": "easy",
    "expected_output": "[[ True  True  True]\n [ True  True  True]\n [ True  True  True]]"
  },
  {
    "id": 213,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create a null vector of size 10 but the fifth value which is 1 (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.zeros(10)\nZ[4] = 1\nprint(Z)",
    "difficulty_score": 12,
    "difficulty_label": "easy",
    "expected_output": "[0. 0. 0. 0. 1. 0. 0. 0. 0. 0.]"
  },
  {
    "id": 214,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create a vector from 0 to 10 with step 0.5 (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.arange(0, 10.5, 0.5); print(Z)",
    "difficulty_score": 12,
    "difficulty_label": "easy",
    "expected_output": "[ 0.   0.5  1.   1.5  2.   2.5  3.   3.5  4.   4.5  5.   5.5  6.   6.5\n  7.   7.5  8.   8.5  9.   9.5 10. ]"
  },
  {
    "id": 215,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create a vector of integers 0..9 with dtype int32 (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.arange(10, dtype=np.int32); print(Z)",
    "difficulty_score": 12,
    "difficulty_label": "easy",
    "expected_output": "[0 1 2 3 4 5 6 7 8 9]"
  },
  {
    "id": 216,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Given a sorted array C that corresponds to a bincount, how to produce an array A such that np.bincount(A) == C? (★★★)\nPrint the result.",
    "answer_code": "# Author: Jaime Fernández del Río\n\nC = np.bincount([1,1,2,3,4,4,6])\nA = np.repeat(np.arange(len(C)), C)\nprint(A)",
    "difficulty_score": 85,
    "difficulty_label": "hard",
    "expected_output": "[1 1 2 3 4 4 6]"
  },
  {
    "id": 217,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create a checkerboard 8x8 matrix using the tile function (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.tile( np.array([[0,1],[1,0]]), (4,4))\nprint(Z)",
    "difficulty_score": 20,
    "difficulty_label": "easy",
    "expected_output": "[[0 1 0 1 0 1 0 1]\n [1 0 1 0 1 0 1 0]\n [0 1 0 1 0 1 0 1]\n [1 0 1 0 1 0 1 0]\n [0 1 0 1 0 1 0 1]\n [1 0 1 0 1 0 1 0]\n [0 1 0 1 0 1 0 1]\n [1 0 1 0 1 0 1 0]]"
  },
  {
    "id": 218,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Standardize each column of a 2D array (zero mean, unit variance) safely (★★★)\nPrint the result.",
    "answer_code": "Z = np.random.randn(5, 4)\nmu = Z.mean(axis=0, keepdims=True)\nsd = Z.std(axis=0, ddof=0, keepdims=True)\nZz = (Z - mu) / np.where(sd==0, 1, sd)\nprint(Zz.mean(0), Zz.std(0))",
    "difficulty_score": 84,
    "difficulty_label": "hard",
    "expected_output": "[-3.33066907e-17  4.99600361e-17  1.33226763e-16 -4.44089210e-17] [1. 1. 1. 1.]"
  },
  {
    "id": 219,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Create random vector of size 10 and replace the maximum value by 0 (★★☆)\nPrint the result.",
    "answer_code": "Z = np.random.random(10)\nZ[Z.argmax()] = 0\nprint(Z)",
    "difficulty_score": 54,
    "difficulty_label": "medium",
    "expected_output": "[0.66063364 0.79044362 0.54555333 0.04633374 0.19438754 0.75637858\n 0.2545503  0.90759047 0.         0.09505246]"
  },
  {
    "id": 220,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Sum each column of a 3x3 matrix (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.arange(9).reshape(3,3); print(Z.sum(axis=0))",
    "difficulty_score": 16,
    "difficulty_label": "easy",
    "expected_output": "[ 9 12 15]"
  },
  {
    "id": 221,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Print the numpy version and the configuration (★☆☆)",
    "answer_code": "print(np.__version__) \nnp.show_config()",
    "difficulty_score": 12,
    "difficulty_label": "easy",
    "expected_output": "2.4.2\nBuild Dependencies:\n  blas:\n    detection method: pkgconfig\n    found: true\n    include directory: /opt/_internal/cpython-3.12.12/lib/python3.12/site-packages/scipy_openblas64/include\n    lib directory: /opt/_internal/cpython-3.12.12/lib/python3.12/site-packages/scipy_openblas64/lib\n    name: scipy-openblas\n    openblas configuration: OpenBLAS 0.3.31.dev  USE64BITINT DYNAMIC_ARCH NO_AFFINITY\n      Haswell MAX_THREADS=64\n    pc file directory: /project/.openblas\n    version: 0.3.31.dev\n  lapack:\n    detection method: pkgconfig\n    found: true\n    include directory: /opt/_internal/cpython-3.12.12/lib/python3.12/site-packages/scipy_openblas64/include\n    lib directory: /opt/_internal/cpython-3.12.12/lib/python3.12/site-packages/scipy_openblas64/lib\n    name: scipy-openblas\n    openblas configuration: OpenBLAS 0.3.31.dev  USE64BITINT DYNAMIC_ARCH NO_AFFINITY\n      Haswell MAX_THREADS=64\n    pc file directory: /project/.openblas\n    version: 0.3.31.dev\nCompilers:\n  c:\n    commands: cc\n    linker: ld.bfd\n    name: gcc\n    version: 14.2.1\n  c++:\n    commands: c++\n    linker: ld.bfd\n    name: gcc\n    version: 14.2.1\n  cython:\n    commands: cython\n    linker: cython\n    name: cython\n    version: 3.2.4\nMachine Information:\n  build:\n    cpu: x86_64\n    endian: little\n    family: x86_64\n    system: linux\n  host:\n    cpu: x86_64\n    endian: little\n    family: x86_64\n    system: linux\nPython Information:\n  path: /tmp/build-env-jif3r6om/bin/python\n  version: '3.12'\nSIMD Extensions:\n  baseline:\n  - X86_V2\n  found:\n  - X86_V3\n  - X86_V4\n  - AVX512_ICL\n  not found:\n  - AVX512_SPR"
  },
  {
    "id": 222,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "How to get the dates of yesterday, today and tomorrow? (★☆☆)\nPrint the result.",
    "answer_code": "yesterday = np.datetime64('today') - np.timedelta64(1)\ntoday     = np.datetime64('today')\ntomorrow  = np.datetime64('today') + np.timedelta64(1)",
    "difficulty_score": 34,
    "difficulty_label": "easy",
    "expected_output": ""
  },
  {
    "id": 223,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Import only the `arange` function as `ar` (★☆☆)\nPrint the result.",
    "answer_code": "from numpy import arange as ar",
    "difficulty_score": 10,
    "difficulty_label": "easy",
    "expected_output": ""
  },
  {
    "id": 224,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Convert a list of lists to a numpy array (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.array([[1,2],[3,4]]); print(Z)",
    "difficulty_score": 10,
    "difficulty_label": "easy",
    "expected_output": "[[1 2]\n [3 4]]"
  },
  {
    "id": 225,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create a vector of ones of size 10 (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.ones(10); print(Z)",
    "difficulty_score": 10,
    "difficulty_label": "easy",
    "expected_output": "[1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]"
  },
  {
    "id": 226,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Import the numpy package under the name `np` (★☆☆)\nPrint the result.",
    "answer_code": "import numpy as np",
    "difficulty_score": 10,
    "difficulty_label": "easy",
    "expected_output": ""
  },
  {
    "id": 227,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create a null vector of size 10 (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.zeros(10)\nprint(Z)",
    "difficulty_score": 10,
    "difficulty_label": "easy",
    "expected_output": "[0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]"
  },
  {
    "id": 228,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create a 3x3 identity matrix (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.eye(3)\nprint(Z)",
    "difficulty_score": 12,
    "difficulty_label": "easy",
    "expected_output": "[[1. 0. 0.]\n [0. 1. 0.]\n [0. 0. 1.]]"
  },
  {
    "id": 229,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create a vector with values ranging from 10 to 49 (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.arange(10,50)\nprint(Z)",
    "difficulty_score": 12,
    "difficulty_label": "easy",
    "expected_output": "[10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33\n 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49]"
  },
  {
    "id": 230,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Cast an integer array to float32 (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.arange(5); print(Z.astype(np.float32))",
    "difficulty_score": 12,
    "difficulty_label": "easy",
    "expected_output": "[0. 1. 2. 3. 4.]"
  },
  {
    "id": 231,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Set elements 3..7 of a zero vector to 5 (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.zeros(10); Z[3:8] = 5; print(Z)",
    "difficulty_score": 12,
    "difficulty_label": "easy",
    "expected_output": "[0. 0. 0. 5. 5. 5. 5. 5. 0. 0.]"
  },
  {
    "id": 232,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Create mask for multiples of 3 from 0..29 (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.arange(30); print(Z % 3 == 0)",
    "difficulty_score": 12,
    "difficulty_label": "easy",
    "expected_output": "[ True False False  True False False  True False False  True False False\n  True False False  True False False  True False False  True False False\n  True False False  True False False]"
  },
  {
    "id": 233,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Reverse a vector (first element becomes last) (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.arange(50)\nZ = Z[::-1]\nprint(Z)",
    "difficulty_score": 12,
    "difficulty_label": "easy",
    "expected_output": "[49 48 47 46 45 44 43 42 41 40 39 38 37 36 35 34 33 32 31 30 29 28 27 26\n 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10  9  8  7  6  5  4  3  2\n  1  0]"
  },
  {
    "id": 234,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Compute cumulative sum of a vector 0..4 (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.arange(5); print(np.cumsum(Z))",
    "difficulty_score": 14,
    "difficulty_label": "easy",
    "expected_output": "[ 0  1  3  6 10]"
  },
  {
    "id": 235,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "Sort a random vector of size 10 in-place (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.random.random(10); Z.sort(); print(Z)",
    "difficulty_score": 14,
    "difficulty_label": "easy",
    "expected_output": "[0.0258762  0.18621817 0.29411985 0.30254315 0.41550968 0.45174497\n 0.5312839  0.53241641 0.62399452 0.65391156]"
  },
  {
    "id": 236,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Create a mask of values > 0.5 in a random 3x3 array (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.random.random((3,3)); print(Z > 0.5)",
    "difficulty_score": 16,
    "difficulty_label": "easy",
    "expected_output": "[[False  True False]\n [False  True  True]\n [ True  True False]]"
  },
  {
    "id": 237,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "Compute the trace of a 4x4 random matrix (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.random.random((4,4)); print(np.trace(Z))",
    "difficulty_score": 18,
    "difficulty_label": "easy",
    "expected_output": "1.0502694024089547"
  },
  {
    "id": 238,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Stack two 2x2 arrays vertically and horizontally (★☆☆)\nPrint the result.",
    "answer_code": "a = np.ones((2,2)); b = np.zeros((2,2)); print(np.vstack([a,b])); print(np.hstack([a,b]))",
    "difficulty_score": 20,
    "difficulty_label": "easy",
    "expected_output": "[[1. 1.]\n [1. 1.]\n [0. 0.]\n [0. 0.]]\n[[1. 1. 0. 0.]\n [1. 1. 0. 0.]]"
  },
  {
    "id": 239,
    "topic": "Numpy",
    "subtopic": "Applied patterns and advanced",
    "question_text": "Multiply a 5x3 matrix by a 3x2 matrix (real matrix product) (★☆☆)\nPrint the result.",
    "answer_code": "Z = np.matmul(np.ones((5, 3)), np.ones((3, 2)))\nprint(Z)\n\n# Alternative solution, in Python 3.5 and above\nZ = np.ones((5,3)) @ np.ones((3,2))\nprint(Z)",
    "difficulty_score": 26,
    "difficulty_label": "easy",
    "expected_output": "[[3. 3.]\n [3. 3.]\n [3. 3.]\n [3. 3.]\n [3. 3.]]\n[[3. 3.]\n [3. 3.]\n [3. 3.]\n [3. 3.]\n [3. 3.]]"
  },
  {
    "id": 240,
    "topic": "Numpy",
    "subtopic": "Vectorization and broadcasting",
    "question_text": "How to round away from zero a float array ? (★☆☆)\nPrint the result.",
    "answer_code": "# Author: Charles R Harris\n\nZ = np.random.uniform(-10,+10,10)\nprint(np.copysign(np.ceil(np.abs(Z)), Z))\n\n# More readable but less efficient\nprint(np.where(Z>0, np.ceil(Z), np.floor(Z)))",
    "difficulty_score": 30,
    "difficulty_label": "easy",
    "expected_output": "[ 1.  7.  5.  5. -6. -9.  3. -5. -1. -8.]\n[ 1.  7.  5.  5. -6. -9.  3. -5. -1. -8.]"
  },
  {
    "id": 241,
    "topic": "Numpy",
    "subtopic": "Indexing and selection",
    "question_text": "How to find common values between two arrays? (★☆☆)\nPrint the result.",
    "answer_code": "Z1 = np.random.randint(0,10,10)\nZ2 = np.random.randint(0,10,10)\nprint(np.intersect1d(Z1,Z2))",
    "difficulty_score": 30,
    "difficulty_label": "easy",
    "expected_output": "[0 4 7]"
  },
  {
    "id": 242,
    "topic": "Numpy",
    "subtopic": "Core array literacy",
    "question_text": "Create a vector of size 10 with values ranging from 0 to 1, both excluded (★★☆)\nPrint the result.",
    "answer_code": "Z = np.linspace(0,1,11,endpoint=False)[1:]\nprint(Z)",
    "difficulty_score": 46,
    "difficulty_label": "medium",
    "expected_output": "[0.09090909 0.18181818 0.27272727 0.36363636 0.45454545 0.54545455\n 0.63636364 0.72727273 0.81818182 0.90909091]"
  }
]